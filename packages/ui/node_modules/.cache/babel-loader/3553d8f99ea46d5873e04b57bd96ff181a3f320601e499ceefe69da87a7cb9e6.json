{"ast":null,"code":"import _slicedToArray from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createPortal}from'react-dom';import{useState,useEffect}from'react';import{Dialog,DialogContent,DialogTitle,TableContainer,Table,TableHead,TableRow,TableCell,TableBody,Paper}from'@mui/material';import moment from'moment';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var fetchLatestVer=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref){var api,apiReturn;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:api=_ref.api;_context2.next=3;return axios.get(api).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(response){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",response.data);case 1:case\"end\":return _context.stop();}},_callee);}));return function(_x2){return _ref3.apply(this,arguments);};}()).catch(function(error){console.error(error);});case 3:apiReturn=_context2.sent;return _context2.abrupt(\"return\",apiReturn);case 5:case\"end\":return _context2.stop();}},_callee2);}));return function fetchLatestVer(_x){return _ref2.apply(this,arguments);};}();var AboutDialog=function AboutDialog(_ref4){var show=_ref4.show,onCancel=_ref4.onCancel;var portalElement=document.getElementById('portal');var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){if(show){var fetchData=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(api){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchLatestVer({api:api});case 2:response=_context3.sent;setData(response);case 4:case\"end\":return _context3.stop();}},_callee3);}));return function fetchData(_x3){return _ref5.apply(this,arguments);};}();fetchData('https://api.github.com/repos/FlowiseAI/Flowise/releases/latest');}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[show]);var component=show?/*#__PURE__*/_jsxs(Dialog,{onClose:onCancel,open:show,fullWidth:true,maxWidth:\"sm\",\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{fontSize:'1rem'},id:\"alert-dialog-title\",children:\"Flowise Version\"}),/*#__PURE__*/_jsx(DialogContent,{children:data&&/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Latest Version\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Published At\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsxs(TableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",rel:\"noreferrer\",href:data.html_url,children:data.name})}),/*#__PURE__*/_jsx(TableCell,{children:moment(data.published_at).fromNow()})]})})]})})})]}):null;return/*#__PURE__*/createPortal(component,portalElement);};export default AboutDialog;","map":{"version":3,"names":["createPortal","useState","useEffect","Dialog","DialogContent","DialogTitle","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","Paper","moment","axios","jsx","_jsx","jsxs","_jsxs","fetchLatestVer","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","_ref","api","apiReturn","wrap","_callee2$","_context2","prev","next","get","then","_ref3","_callee","response","_callee$","_context","abrupt","data","stop","_x2","apply","arguments","catch","error","console","sent","_x","AboutDialog","_ref4","show","onCancel","portalElement","document","getElementById","_useState","_useState2","_slicedToArray","setData","fetchData","_ref5","_callee3","_callee3$","_context3","_x3","component","onClose","open","fullWidth","maxWidth","children","sx","fontSize","id","border","scope","target","rel","href","html_url","name","published_at","fromNow"],"sources":["/Users/zorro/Downloads/Flowise/packages/ui/src/ui-component/dialog/AboutDialog.js"],"sourcesContent":["import { createPortal } from 'react-dom'\nimport { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { Dialog, DialogContent, DialogTitle, TableContainer, Table, TableHead, TableRow, TableCell, TableBody, Paper } from '@mui/material'\nimport moment from 'moment'\nimport axios from 'axios'\n\nconst fetchLatestVer = async ({ api }) => {\n    let apiReturn = await axios\n        .get(api)\n        .then(async function (response) {\n            return response.data\n        })\n        .catch(function (error) {\n            console.error(error)\n        })\n    return apiReturn\n}\n\nconst AboutDialog = ({ show, onCancel }) => {\n    const portalElement = document.getElementById('portal')\n\n    const [data, setData] = useState({})\n\n    useEffect(() => {\n        if (show) {\n            const fetchData = async (api) => {\n                let response = await fetchLatestVer({ api })\n                setData(response)\n            }\n\n            fetchData('https://api.github.com/repos/FlowiseAI/Flowise/releases/latest')\n        }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [show])\n\n    const component = show ? (\n        <Dialog\n            onClose={onCancel}\n            open={show}\n            fullWidth\n            maxWidth='sm'\n            aria-labelledby='alert-dialog-title'\n            aria-describedby='alert-dialog-description'\n        >\n            <DialogTitle sx={{ fontSize: '1rem' }} id='alert-dialog-title'>\n                Flowise Version\n            </DialogTitle>\n            <DialogContent>\n                {data && (\n                    <TableContainer component={Paper}>\n                        <Table aria-label='simple table'>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>Latest Version</TableCell>\n                                    <TableCell>Published At</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                <TableRow sx={{ '&:last-child td, &:last-child th': { border: 0 } }}>\n                                    <TableCell component='th' scope='row'>\n                                        <a target='_blank' rel='noreferrer' href={data.html_url}>\n                                            {data.name}\n                                        </a>\n                                    </TableCell>\n                                    <TableCell>{moment(data.published_at).fromNow()}</TableCell>\n                                </TableRow>\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                )}\n            </DialogContent>\n        </Dialog>\n    ) : null\n\n    return createPortal(component, portalElement)\n}\n\nAboutDialog.propTypes = {\n    show: PropTypes.bool,\n    onCancel: PropTypes.func\n}\n\nexport default AboutDialog\n"],"mappings":"4WAAA,OAASA,YAAY,KAAQ,WAAW,CACxC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C,OAASC,MAAM,CAAEC,aAAa,CAAEC,WAAW,CAAEC,cAAc,CAAEC,KAAK,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,SAAS,CAAEC,KAAK,KAAQ,eAAe,CAC3I,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAC3B,MAAO,CAAAC,KAAK,KAAM,OAAO,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzB,GAAM,CAAAC,cAAc,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,SAAAC,IAAA,MAAAC,GAAA,CAAAC,SAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,UAAAC,SAAA,iBAAAA,SAAA,CAAAC,IAAA,CAAAD,SAAA,CAAAE,IAAA,SAASN,GAAG,CAAAD,IAAA,CAAHC,GAAG,CAAAI,SAAA,CAAAE,IAAA,SACT,CAAAlB,KAAK,CACtBmB,GAAG,CAACP,GAAG,CAAC,CACRQ,IAAI,6BAAAC,KAAA,CAAAd,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAa,QAAgBC,QAAQ,SAAAf,mBAAA,GAAAM,IAAA,UAAAU,SAAAC,QAAA,iBAAAA,QAAA,CAAAR,IAAA,CAAAQ,QAAA,CAAAP,IAAA,gBAAAO,QAAA,CAAAC,MAAA,UACnBH,QAAQ,CAACI,IAAI,0BAAAF,QAAA,CAAAG,IAAA,MAAAN,OAAA,GACvB,mBAAAO,GAAA,SAAAR,KAAA,CAAAS,KAAA,MAAAC,SAAA,QAAC,CACDC,KAAK,CAAC,SAAUC,KAAK,CAAE,CACpBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACxB,CAAC,CAAC,QAPFpB,SAAS,CAAAG,SAAA,CAAAmB,IAAA,QAAAnB,SAAA,CAAAU,MAAA,UAQNb,SAAS,0BAAAG,SAAA,CAAAY,IAAA,MAAAlB,QAAA,GACnB,kBAVK,CAAAL,cAAcA,CAAA+B,EAAA,SAAA9B,KAAA,CAAAwB,KAAA,MAAAC,SAAA,OAUnB,CAED,GAAM,CAAAM,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAAC,KAAA,CAA2B,IAArB,CAAAC,IAAI,CAAAD,KAAA,CAAJC,IAAI,CAAEC,QAAQ,CAAAF,KAAA,CAARE,QAAQ,CACjC,GAAM,CAAAC,aAAa,CAAGC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC,CAEvD,IAAAC,SAAA,CAAwBzD,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA0D,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BjB,IAAI,CAAAkB,UAAA,IAAEE,OAAO,CAAAF,UAAA,IAEpBzD,SAAS,CAAC,UAAM,CACZ,GAAImD,IAAI,CAAE,CACN,GAAM,CAAAS,SAAS,6BAAAC,KAAA,CAAA1C,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAyC,SAAOtC,GAAG,MAAAW,QAAA,QAAAf,mBAAA,GAAAM,IAAA,UAAAqC,UAAAC,SAAA,iBAAAA,SAAA,CAAAnC,IAAA,CAAAmC,SAAA,CAAAlC,IAAA,SAAAkC,SAAA,CAAAlC,IAAA,SACH,CAAAb,cAAc,CAAC,CAAEO,GAAG,CAAHA,GAAI,CAAC,CAAC,QAAxCW,QAAQ,CAAA6B,SAAA,CAAAjB,IAAA,CACZY,OAAO,CAACxB,QAAQ,CAAC,yBAAA6B,SAAA,CAAAxB,IAAA,MAAAsB,QAAA,GACpB,kBAHK,CAAAF,SAASA,CAAAK,GAAA,SAAAJ,KAAA,CAAAnB,KAAA,MAAAC,SAAA,OAGd,CAEDiB,SAAS,CAAC,gEAAgE,CAAC,CAC/E,CAEA;AACJ,CAAC,CAAE,CAACT,IAAI,CAAC,CAAC,CAEV,GAAM,CAAAe,SAAS,CAAGf,IAAI,cAClBnC,KAAA,CAACf,MAAM,EACHkE,OAAO,CAAEf,QAAS,CAClBgB,IAAI,CAAEjB,IAAK,CACXkB,SAAS,MACTC,QAAQ,CAAC,IAAI,CACb,kBAAgB,oBAAoB,CACpC,mBAAiB,0BAA0B,CAAAC,QAAA,eAE3CzD,IAAA,CAACX,WAAW,EAACqE,EAAE,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAACC,EAAE,CAAC,oBAAoB,CAAAH,QAAA,CAAC,iBAE/D,CAAa,CAAC,cACdzD,IAAA,CAACZ,aAAa,EAAAqE,QAAA,CACThC,IAAI,eACDzB,IAAA,CAACV,cAAc,EAAC8D,SAAS,CAAExD,KAAM,CAAA6D,QAAA,cAC7BvD,KAAA,CAACX,KAAK,EAAC,aAAW,cAAc,CAAAkE,QAAA,eAC5BzD,IAAA,CAACR,SAAS,EAAAiE,QAAA,cACNvD,KAAA,CAACT,QAAQ,EAAAgE,QAAA,eACLzD,IAAA,CAACN,SAAS,EAAA+D,QAAA,CAAC,gBAAc,CAAW,CAAC,cACrCzD,IAAA,CAACN,SAAS,EAAA+D,QAAA,CAAC,cAAY,CAAW,CAAC,EAC7B,CAAC,CACJ,CAAC,cACZzD,IAAA,CAACL,SAAS,EAAA8D,QAAA,cACNvD,KAAA,CAACT,QAAQ,EAACiE,EAAE,CAAE,CAAE,kCAAkC,CAAE,CAAEG,MAAM,CAAE,CAAE,CAAE,CAAE,CAAAJ,QAAA,eAChEzD,IAAA,CAACN,SAAS,EAAC0D,SAAS,CAAC,IAAI,CAACU,KAAK,CAAC,KAAK,CAAAL,QAAA,cACjCzD,IAAA,MAAG+D,MAAM,CAAC,QAAQ,CAACC,GAAG,CAAC,YAAY,CAACC,IAAI,CAAExC,IAAI,CAACyC,QAAS,CAAAT,QAAA,CACnDhC,IAAI,CAAC0C,IAAI,CACX,CAAC,CACG,CAAC,cACZnE,IAAA,CAACN,SAAS,EAAA+D,QAAA,CAAE5D,MAAM,CAAC4B,IAAI,CAAC2C,YAAY,CAAC,CAACC,OAAO,CAAC,CAAC,CAAY,CAAC,EACtD,CAAC,CACJ,CAAC,EACT,CAAC,CACI,CACnB,CACU,CAAC,EACZ,CAAC,CACT,IAAI,CAER,mBAAOrF,YAAY,CAACoE,SAAS,CAAEb,aAAa,CAAC,CACjD,CAAC,CAOD,cAAe,CAAAJ,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}