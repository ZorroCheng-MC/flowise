{"ast":null,"code":"import _slicedToArray from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{getBezierPath,EdgeText}from'reactflow';import{useDispatch}from'react-redux';import{useContext}from'react';import{SET_DIRTY}from'store/actions';import{flowContext}from'store/context/ReactFlowContext';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var foreignObjectSize=40;var ButtonEdge=function ButtonEdge(_ref){var id=_ref.id,sourceX=_ref.sourceX,sourceY=_ref.sourceY,targetX=_ref.targetX,targetY=_ref.targetY,sourcePosition=_ref.sourcePosition,targetPosition=_ref.targetPosition,_ref$style=_ref.style,style=_ref$style===void 0?{}:_ref$style,data=_ref.data,markerEnd=_ref.markerEnd;var _getBezierPath=getBezierPath({sourceX:sourceX,sourceY:sourceY,sourcePosition:sourcePosition,targetX:targetX,targetY:targetY,targetPosition:targetPosition}),_getBezierPath2=_slicedToArray(_getBezierPath,3),edgePath=_getBezierPath2[0],edgeCenterX=_getBezierPath2[1],edgeCenterY=_getBezierPath2[2];var _useContext=useContext(flowContext),deleteEdge=_useContext.deleteEdge;var dispatch=useDispatch();var onEdgeClick=function onEdgeClick(evt,id){evt.stopPropagation();deleteEdge(id);dispatch({type:SET_DIRTY});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"path\",{id:id,style:style,className:\"react-flow__edge-path\",d:edgePath,markerEnd:markerEnd}),data&&data.label&&/*#__PURE__*/_jsx(EdgeText,{x:sourceX+10,y:sourceY+10,label:data.label,labelStyle:{fill:'black'},labelBgStyle:{fill:'transparent'},labelBgPadding:[2,4],labelBgBorderRadius:2}),/*#__PURE__*/_jsx(\"foreignObject\",{width:foreignObjectSize,height:foreignObjectSize,x:edgeCenterX-foreignObjectSize/2,y:edgeCenterY-foreignObjectSize/2,className:\"edgebutton-foreignobject\",requiredExtensions:\"http://www.w3.org/1999/xhtml\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"edgebutton\",onClick:function onClick(event){return onEdgeClick(event,id);},children:\"\\xD7\"})})})]});};export default ButtonEdge;","map":{"version":3,"names":["getBezierPath","EdgeText","useDispatch","useContext","SET_DIRTY","flowContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","foreignObjectSize","ButtonEdge","_ref","id","sourceX","sourceY","targetX","targetY","sourcePosition","targetPosition","_ref$style","style","data","markerEnd","_getBezierPath","_getBezierPath2","_slicedToArray","edgePath","edgeCenterX","edgeCenterY","_useContext","deleteEdge","dispatch","onEdgeClick","evt","stopPropagation","type","children","className","d","label","x","y","labelStyle","fill","labelBgStyle","labelBgPadding","labelBgBorderRadius","width","height","requiredExtensions","onClick","event"],"sources":["/Users/zorro/Downloads/Flowise/packages/ui/src/views/canvas/ButtonEdge.js"],"sourcesContent":["import { getBezierPath, EdgeText } from 'reactflow'\nimport PropTypes from 'prop-types'\nimport { useDispatch } from 'react-redux'\nimport { useContext } from 'react'\nimport { SET_DIRTY } from 'store/actions'\nimport { flowContext } from 'store/context/ReactFlowContext'\n\nimport './index.css'\n\nconst foreignObjectSize = 40\n\nconst ButtonEdge = ({ id, sourceX, sourceY, targetX, targetY, sourcePosition, targetPosition, style = {}, data, markerEnd }) => {\n    const [edgePath, edgeCenterX, edgeCenterY] = getBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition\n    })\n\n    const { deleteEdge } = useContext(flowContext)\n\n    const dispatch = useDispatch()\n\n    const onEdgeClick = (evt, id) => {\n        evt.stopPropagation()\n        deleteEdge(id)\n        dispatch({ type: SET_DIRTY })\n    }\n\n    return (\n        <>\n            <path id={id} style={style} className='react-flow__edge-path' d={edgePath} markerEnd={markerEnd} />\n            {data && data.label && (\n                <EdgeText\n                    x={sourceX + 10}\n                    y={sourceY + 10}\n                    label={data.label}\n                    labelStyle={{ fill: 'black' }}\n                    labelBgStyle={{ fill: 'transparent' }}\n                    labelBgPadding={[2, 4]}\n                    labelBgBorderRadius={2}\n                />\n            )}\n            <foreignObject\n                width={foreignObjectSize}\n                height={foreignObjectSize}\n                x={edgeCenterX - foreignObjectSize / 2}\n                y={edgeCenterY - foreignObjectSize / 2}\n                className='edgebutton-foreignobject'\n                requiredExtensions='http://www.w3.org/1999/xhtml'\n            >\n                <div>\n                    <button className='edgebutton' onClick={(event) => onEdgeClick(event, id)}>\n                        Ã—\n                    </button>\n                </div>\n            </foreignObject>\n        </>\n    )\n}\n\nButtonEdge.propTypes = {\n    id: PropTypes.string,\n    sourceX: PropTypes.number,\n    sourceY: PropTypes.number,\n    targetX: PropTypes.number,\n    targetY: PropTypes.number,\n    sourcePosition: PropTypes.any,\n    targetPosition: PropTypes.any,\n    style: PropTypes.object,\n    data: PropTypes.object,\n    markerEnd: PropTypes.any\n}\n\nexport default ButtonEdge\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}