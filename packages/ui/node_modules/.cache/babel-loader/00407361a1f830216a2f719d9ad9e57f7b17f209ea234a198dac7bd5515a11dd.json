{"ast":null,"code":"import _slicedToArray from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createPortal}from'react-dom';import{useDispatch}from'react-redux';import{useState,useEffect}from'react';import{Dialog,DialogContent}from'@mui/material';import PerfectScrollbar from'react-perfect-scrollbar';import NodeInputHandler from'views/canvas/NodeInputHandler';import{HIDE_CANVAS_DIALOG,SHOW_CANVAS_DIALOG}from'store/actions';import{jsx as _jsx}from\"react/jsx-runtime\";var AdditionalParamsDialog=function AdditionalParamsDialog(_ref){var show=_ref.show,dialogProps=_ref.dialogProps,onCancel=_ref.onCancel;var portalElement=document.getElementById('portal');var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),inputParams=_useState2[0],setInputParams=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];useEffect(function(){if(dialogProps.inputParams)setInputParams(dialogProps.inputParams);if(dialogProps.data)setData(dialogProps.data);return function(){setInputParams([]);setData({});};},[dialogProps]);useEffect(function(){if(show)dispatch({type:SHOW_CANVAS_DIALOG});else dispatch({type:HIDE_CANVAS_DIALOG});},[show,dispatch]);var component=show?/*#__PURE__*/_jsx(Dialog,{onClose:onCancel,open:show,fullWidth:true,maxWidth:\"sm\",\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(PerfectScrollbar,{style:{height:'100%',maxHeight:'calc(100vh - 220px)',overflowX:'hidden'},children:inputParams.map(function(inputParam,index){return/*#__PURE__*/_jsx(NodeInputHandler,{disabled:dialogProps.disabled,inputParam:inputParam,data:data,isAdditionalParams:true},index);})})})}):null;return/*#__PURE__*/createPortal(component,portalElement);};export default AdditionalParamsDialog;","map":{"version":3,"names":["createPortal","useDispatch","useState","useEffect","Dialog","DialogContent","PerfectScrollbar","NodeInputHandler","HIDE_CANVAS_DIALOG","SHOW_CANVAS_DIALOG","jsx","_jsx","AdditionalParamsDialog","_ref","show","dialogProps","onCancel","portalElement","document","getElementById","dispatch","_useState","_useState2","_slicedToArray","inputParams","setInputParams","_useState3","_useState4","data","setData","type","component","onClose","open","fullWidth","maxWidth","children","style","height","maxHeight","overflowX","map","inputParam","index","disabled","isAdditionalParams"],"sources":["/Users/zorro/Downloads/Flowise/packages/ui/src/ui-component/dialog/AdditionalParamsDialog.js"],"sourcesContent":["import { createPortal } from 'react-dom'\nimport { useDispatch } from 'react-redux'\nimport { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { Dialog, DialogContent } from '@mui/material'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport NodeInputHandler from 'views/canvas/NodeInputHandler'\nimport { HIDE_CANVAS_DIALOG, SHOW_CANVAS_DIALOG } from 'store/actions'\n\nconst AdditionalParamsDialog = ({ show, dialogProps, onCancel }) => {\n    const portalElement = document.getElementById('portal')\n    const dispatch = useDispatch()\n\n    const [inputParams, setInputParams] = useState([])\n    const [data, setData] = useState({})\n\n    useEffect(() => {\n        if (dialogProps.inputParams) setInputParams(dialogProps.inputParams)\n        if (dialogProps.data) setData(dialogProps.data)\n\n        return () => {\n            setInputParams([])\n            setData({})\n        }\n    }, [dialogProps])\n\n    useEffect(() => {\n        if (show) dispatch({ type: SHOW_CANVAS_DIALOG })\n        else dispatch({ type: HIDE_CANVAS_DIALOG })\n    }, [show, dispatch])\n\n    const component = show ? (\n        <Dialog\n            onClose={onCancel}\n            open={show}\n            fullWidth\n            maxWidth='sm'\n            aria-labelledby='alert-dialog-title'\n            aria-describedby='alert-dialog-description'\n        >\n            <DialogContent>\n                <PerfectScrollbar\n                    style={{\n                        height: '100%',\n                        maxHeight: 'calc(100vh - 220px)',\n                        overflowX: 'hidden'\n                    }}\n                >\n                    {inputParams.map((inputParam, index) => (\n                        <NodeInputHandler\n                            disabled={dialogProps.disabled}\n                            key={index}\n                            inputParam={inputParam}\n                            data={data}\n                            isAdditionalParams={true}\n                        />\n                    ))}\n                </PerfectScrollbar>\n            </DialogContent>\n        </Dialog>\n    ) : null\n\n    return createPortal(component, portalElement)\n}\n\nAdditionalParamsDialog.propTypes = {\n    show: PropTypes.bool,\n    dialogProps: PropTypes.object,\n    onCancel: PropTypes.func\n}\n\nexport default AdditionalParamsDialog\n"],"mappings":"oHAAA,OAASA,YAAY,KAAQ,WAAW,CACxC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C,OAASC,MAAM,CAAEC,aAAa,KAAQ,eAAe,CACrD,MAAO,CAAAC,gBAAgB,KAAM,yBAAyB,CACtD,MAAO,CAAAC,gBAAgB,KAAM,+BAA+B,CAC5D,OAASC,kBAAkB,CAAEC,kBAAkB,KAAQ,eAAe,QAAAC,GAAA,IAAAC,IAAA,yBAEtE,GAAM,CAAAC,sBAAsB,CAAG,QAAzB,CAAAA,sBAAsBA,CAAAC,IAAA,CAAwC,IAAlC,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAAEC,QAAQ,CAAAH,IAAA,CAARG,QAAQ,CACzD,GAAM,CAAAC,aAAa,CAAGC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC,CACvD,GAAM,CAAAC,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAE9B,IAAAoB,SAAA,CAAsCnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAAwBxB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAyB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IAEpBxB,SAAS,CAAC,UAAM,CACZ,GAAIY,WAAW,CAACS,WAAW,CAAEC,cAAc,CAACV,WAAW,CAACS,WAAW,CAAC,CACpE,GAAIT,WAAW,CAACa,IAAI,CAAEC,OAAO,CAACd,WAAW,CAACa,IAAI,CAAC,CAE/C,MAAO,WAAM,CACTH,cAAc,CAAC,EAAE,CAAC,CAClBI,OAAO,CAAC,CAAC,CAAC,CAAC,CACf,CAAC,CACL,CAAC,CAAE,CAACd,WAAW,CAAC,CAAC,CAEjBZ,SAAS,CAAC,UAAM,CACZ,GAAIW,IAAI,CAAEM,QAAQ,CAAC,CAAEU,IAAI,CAAErB,kBAAmB,CAAC,CAAC,KAC3C,CAAAW,QAAQ,CAAC,CAAEU,IAAI,CAAEtB,kBAAmB,CAAC,CAAC,CAC/C,CAAC,CAAE,CAACM,IAAI,CAAEM,QAAQ,CAAC,CAAC,CAEpB,GAAM,CAAAW,SAAS,CAAGjB,IAAI,cAClBH,IAAA,CAACP,MAAM,EACH4B,OAAO,CAAEhB,QAAS,CAClBiB,IAAI,CAAEnB,IAAK,CACXoB,SAAS,MACTC,QAAQ,CAAC,IAAI,CACb,kBAAgB,oBAAoB,CACpC,mBAAiB,0BAA0B,CAAAC,QAAA,cAE3CzB,IAAA,CAACN,aAAa,EAAA+B,QAAA,cACVzB,IAAA,CAACL,gBAAgB,EACb+B,KAAK,CAAE,CACHC,MAAM,CAAE,MAAM,CACdC,SAAS,CAAE,qBAAqB,CAChCC,SAAS,CAAE,QACf,CAAE,CAAAJ,QAAA,CAEDZ,WAAW,CAACiB,GAAG,CAAC,SAACC,UAAU,CAAEC,KAAK,qBAC/BhC,IAAA,CAACJ,gBAAgB,EACbqC,QAAQ,CAAE7B,WAAW,CAAC6B,QAAS,CAE/BF,UAAU,CAAEA,UAAW,CACvBd,IAAI,CAAEA,IAAK,CACXiB,kBAAkB,CAAE,IAAK,EAHpBF,KAIR,CAAC,EACL,CAAC,CACY,CAAC,CACR,CAAC,CACZ,CAAC,CACT,IAAI,CAER,mBAAO3C,YAAY,CAAC+B,SAAS,CAAEd,aAAa,CAAC,CACjD,CAAC,CAQD,cAAe,CAAAL,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}