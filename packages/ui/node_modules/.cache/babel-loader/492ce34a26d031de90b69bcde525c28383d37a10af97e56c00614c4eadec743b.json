{"ast":null,"code":"import _objectSpread from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useSelector,useDispatch}from'react-redux';import{useState}from'react';import{useNavigate}from'react-router-dom';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Avatar,Box,ButtonBase,Switch}from'@mui/material';import{styled}from'@mui/material/styles';// project imports\nimport LogoSection from'../LogoSection';import ProfileSection from'./ProfileSection';// assets\nimport{IconMenu2}from'@tabler/icons';// store\nimport{SET_DARKMODE}from'store/actions';// ==============================|| MAIN NAVBAR / HEADER ||============================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MaterialUISwitch=styled(Switch)(function(_ref){var theme=_ref.theme;return{width:62,height:34,padding:7,'& .MuiSwitch-switchBase':{margin:1,padding:0,transform:'translateX(6px)','&.Mui-checked':{color:'#fff',transform:'translateX(22px)','& .MuiSwitch-thumb:before':{backgroundImage:\"url('data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"20\\\" width=\\\"20\\\" viewBox=\\\"0 0 20 20\\\"><path fill=\\\"\".concat(encodeURIComponent('#fff'),\"\\\" d=\\\"M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z\\\"/></svg>')\")},'& + .MuiSwitch-track':{opacity:1,backgroundColor:theme.palette.mode==='dark'?'#8796A5':'#aab4be'}}},'& .MuiSwitch-thumb':{backgroundColor:theme.palette.mode==='dark'?'#003892':'#001e3c',width:32,height:32,'&:before':{content:\"''\",position:'absolute',width:'100%',height:'100%',left:0,top:0,backgroundRepeat:'no-repeat',backgroundPosition:'center',backgroundImage:\"url('data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"20\\\" width=\\\"20\\\" viewBox=\\\"0 0 20 20\\\"><path fill=\\\"\".concat(encodeURIComponent('#fff'),\"\\\" d=\\\"M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z\\\"/></svg>')\")}},'& .MuiSwitch-track':{opacity:1,backgroundColor:theme.palette.mode==='dark'?'#8796A5':'#aab4be',borderRadius:20/2}};});var Header=function Header(_ref2){var _localStorage$getItem;var handleLeftDrawerToggle=_ref2.handleLeftDrawerToggle;var theme=useTheme();var navigate=useNavigate();var customization=useSelector(function(state){return state.customization;});var _useState=useState(customization.isDarkMode),_useState2=_slicedToArray(_useState,2),isDark=_useState2[0],setIsDark=_useState2[1];var dispatch=useDispatch();var changeDarkMode=function changeDarkMode(){dispatch({type:SET_DARKMODE,isDarkMode:!isDark});setIsDark(function(isDark){return!isDark;});localStorage.setItem('isDarkMode',!isDark);};var signOutClicked=function signOutClicked(){localStorage.removeItem('username');localStorage.removeItem('password');navigate('/',{replace:true});navigate(0);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:_defineProperty({width:228,display:'flex'},theme.breakpoints.down('md'),{width:'auto'}),children:[/*#__PURE__*/_jsx(Box,{component:\"span\",sx:{display:{xs:'none',md:'block'},flexGrow:1},children:/*#__PURE__*/_jsx(LogoSection,{})}),/*#__PURE__*/_jsx(ButtonBase,{sx:{borderRadius:'12px',overflow:'hidden'},children:/*#__PURE__*/_jsx(Avatar,{variant:\"rounded\",sx:_objectSpread(_objectSpread(_objectSpread({},theme.typography.commonAvatar),theme.typography.mediumAvatar),{},{transition:'all .2s ease-in-out',background:theme.palette.secondary.light,color:theme.palette.secondary.dark,'&:hover':{background:theme.palette.secondary.dark,color:theme.palette.secondary.light}}),onClick:handleLeftDrawerToggle,color:\"inherit\",children:/*#__PURE__*/_jsx(IconMenu2,{stroke:1.5,size:\"1.3rem\"})})})]}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1}}),/*#__PURE__*/_jsx(MaterialUISwitch,{checked:isDark,onChange:changeDarkMode}),/*#__PURE__*/_jsx(Box,{sx:{ml:2}}),/*#__PURE__*/_jsx(ProfileSection,{handleLogout:signOutClicked,username:(_localStorage$getItem=localStorage.getItem('username'))!==null&&_localStorage$getItem!==void 0?_localStorage$getItem:''})]});};export default Header;","map":{"version":3,"names":["useSelector","useDispatch","useState","useNavigate","useTheme","Avatar","Box","ButtonBase","Switch","styled","LogoSection","ProfileSection","IconMenu2","SET_DARKMODE","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MaterialUISwitch","_ref","theme","width","height","padding","margin","transform","color","backgroundImage","concat","encodeURIComponent","opacity","backgroundColor","palette","mode","content","position","left","top","backgroundRepeat","backgroundPosition","borderRadius","Header","_ref2","_localStorage$getItem","handleLeftDrawerToggle","navigate","customization","state","_useState","isDarkMode","_useState2","_slicedToArray","isDark","setIsDark","dispatch","changeDarkMode","type","localStorage","setItem","signOutClicked","removeItem","replace","children","sx","_defineProperty","display","breakpoints","down","component","xs","md","flexGrow","overflow","variant","_objectSpread","typography","commonAvatar","mediumAvatar","transition","background","secondary","light","dark","onClick","stroke","size","checked","onChange","ml","handleLogout","username","getItem"],"sources":["/Users/zorro/Downloads/Flowise/packages/ui/src/layout/MainLayout/Header/index.js"],"sourcesContent":["import PropTypes from 'prop-types'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\n\n// material-ui\nimport { useTheme } from '@mui/material/styles'\nimport { Avatar, Box, ButtonBase, Switch } from '@mui/material'\nimport { styled } from '@mui/material/styles'\n\n// project imports\nimport LogoSection from '../LogoSection'\nimport ProfileSection from './ProfileSection'\n\n// assets\nimport { IconMenu2 } from '@tabler/icons'\n\n// store\nimport { SET_DARKMODE } from 'store/actions'\n\n// ==============================|| MAIN NAVBAR / HEADER ||============================== //\n\nconst MaterialUISwitch = styled(Switch)(({ theme }) => ({\n    width: 62,\n    height: 34,\n    padding: 7,\n    '& .MuiSwitch-switchBase': {\n        margin: 1,\n        padding: 0,\n        transform: 'translateX(6px)',\n        '&.Mui-checked': {\n            color: '#fff',\n            transform: 'translateX(22px)',\n            '& .MuiSwitch-thumb:before': {\n                backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\n                    '#fff'\n                )}\" d=\"M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z\"/></svg>')`\n            },\n            '& + .MuiSwitch-track': {\n                opacity: 1,\n                backgroundColor: theme.palette.mode === 'dark' ? '#8796A5' : '#aab4be'\n            }\n        }\n    },\n    '& .MuiSwitch-thumb': {\n        backgroundColor: theme.palette.mode === 'dark' ? '#003892' : '#001e3c',\n        width: 32,\n        height: 32,\n        '&:before': {\n            content: \"''\",\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            left: 0,\n            top: 0,\n            backgroundRepeat: 'no-repeat',\n            backgroundPosition: 'center',\n            backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\n                '#fff'\n            )}\" d=\"M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z\"/></svg>')`\n        }\n    },\n    '& .MuiSwitch-track': {\n        opacity: 1,\n        backgroundColor: theme.palette.mode === 'dark' ? '#8796A5' : '#aab4be',\n        borderRadius: 20 / 2\n    }\n}))\n\nconst Header = ({ handleLeftDrawerToggle }) => {\n    const theme = useTheme()\n    const navigate = useNavigate()\n\n    const customization = useSelector((state) => state.customization)\n\n    const [isDark, setIsDark] = useState(customization.isDarkMode)\n    const dispatch = useDispatch()\n\n    const changeDarkMode = () => {\n        dispatch({ type: SET_DARKMODE, isDarkMode: !isDark })\n        setIsDark((isDark) => !isDark)\n        localStorage.setItem('isDarkMode', !isDark)\n    }\n\n    const signOutClicked = () => {\n        localStorage.removeItem('username')\n        localStorage.removeItem('password')\n        navigate('/', { replace: true })\n        navigate(0)\n    }\n\n    return (\n        <>\n            {/* logo & toggler button */}\n            <Box\n                sx={{\n                    width: 228,\n                    display: 'flex',\n                    [theme.breakpoints.down('md')]: {\n                        width: 'auto'\n                    }\n                }}\n            >\n                <Box component='span' sx={{ display: { xs: 'none', md: 'block' }, flexGrow: 1 }}>\n                    <LogoSection />\n                </Box>\n                <ButtonBase sx={{ borderRadius: '12px', overflow: 'hidden' }}>\n                    <Avatar\n                        variant='rounded'\n                        sx={{\n                            ...theme.typography.commonAvatar,\n                            ...theme.typography.mediumAvatar,\n                            transition: 'all .2s ease-in-out',\n                            background: theme.palette.secondary.light,\n                            color: theme.palette.secondary.dark,\n                            '&:hover': {\n                                background: theme.palette.secondary.dark,\n                                color: theme.palette.secondary.light\n                            }\n                        }}\n                        onClick={handleLeftDrawerToggle}\n                        color='inherit'\n                    >\n                        <IconMenu2 stroke={1.5} size='1.3rem' />\n                    </Avatar>\n                </ButtonBase>\n            </Box>\n            <Box sx={{ flexGrow: 1 }} />\n            <MaterialUISwitch checked={isDark} onChange={changeDarkMode} />\n            <Box sx={{ ml: 2 }}></Box>\n            <ProfileSection handleLogout={signOutClicked} username={localStorage.getItem('username') ?? ''} />\n        </>\n    )\n}\n\nHeader.propTypes = {\n    handleLeftDrawerToggle: PropTypes.func\n}\n\nexport default Header\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}