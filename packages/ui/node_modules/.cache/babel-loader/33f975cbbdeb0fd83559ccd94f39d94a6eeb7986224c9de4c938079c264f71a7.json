{"ast":null,"code":"import _slicedToArray from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createPortal}from'react-dom';import{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{Button,Dialog,DialogActions,DialogContent,Typography}from'@mui/material';import{useTheme}from'@mui/material/styles';import PerfectScrollbar from'react-perfect-scrollbar';import{StyledButton}from'ui-component/button/StyledButton';import{DarkCodeEditor}from'ui-component/editor/DarkCodeEditor';import{LightCodeEditor}from'ui-component/editor/LightCodeEditor';import{HIDE_CANVAS_DIALOG,SHOW_CANVAS_DIALOG}from'store/actions';import'./ExpandTextDialog.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ExpandTextDialog=function ExpandTextDialog(_ref){var show=_ref.show,dialogProps=_ref.dialogProps,onCancel=_ref.onCancel,onConfirm=_ref.onConfirm;var portalElement=document.getElementById('portal');var theme=useTheme();var dispatch=useDispatch();var customization=useSelector(function(state){return state.customization;});var languageType='json';var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),inputParam=_useState4[0],setInputParam=_useState4[1];useEffect(function(){if(dialogProps.value)setInputValue(dialogProps.value);if(dialogProps.inputParam)setInputParam(dialogProps.inputParam);return function(){setInputValue('');setInputParam(null);};},[dialogProps]);useEffect(function(){if(show)dispatch({type:SHOW_CANVAS_DIALOG});else dispatch({type:HIDE_CANVAS_DIALOG});},[show,dispatch]);var component=show?/*#__PURE__*/_jsxs(Dialog,{open:show,fullWidth:true,maxWidth:\"md\",\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row'},children:inputParam&&inputParam.type==='string'&&/*#__PURE__*/_jsxs(\"div\",{style:{flex:70},children:[/*#__PURE__*/_jsx(Typography,{sx:{mb:2,ml:1},variant:\"h4\",children:inputParam.label}),/*#__PURE__*/_jsx(PerfectScrollbar,{style:{border:'1px solid',borderColor:theme.palette.grey['500'],borderRadius:'12px',height:'100%',maxHeight:'calc(100vh - 220px)',overflowX:'hidden',backgroundColor:'white'},children:customization.isDarkMode?/*#__PURE__*/_jsx(DarkCodeEditor,{disabled:dialogProps.disabled,value:inputValue,onValueChange:function onValueChange(code){return setInputValue(code);},placeholder:inputParam.placeholder,type:languageType,style:{fontSize:'0.875rem',minHeight:'calc(100vh - 220px)',width:'100%'}}):/*#__PURE__*/_jsx(LightCodeEditor,{disabled:dialogProps.disabled,value:inputValue,onValueChange:function onValueChange(code){return setInputValue(code);},placeholder:inputParam.placeholder,type:languageType,style:{fontSize:'0.875rem',minHeight:'calc(100vh - 220px)',width:'100%'}})})]})})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:onCancel,children:dialogProps.cancelButtonName}),/*#__PURE__*/_jsx(StyledButton,{disabled:dialogProps.disabled,variant:\"contained\",onClick:function onClick(){return onConfirm(inputValue,inputParam.name);},children:dialogProps.confirmButtonName})]})]}):null;return/*#__PURE__*/createPortal(component,portalElement);};export default ExpandTextDialog;","map":{"version":3,"names":["createPortal","useState","useEffect","useSelector","useDispatch","Button","Dialog","DialogActions","DialogContent","Typography","useTheme","PerfectScrollbar","StyledButton","DarkCodeEditor","LightCodeEditor","HIDE_CANVAS_DIALOG","SHOW_CANVAS_DIALOG","jsx","_jsx","jsxs","_jsxs","ExpandTextDialog","_ref","show","dialogProps","onCancel","onConfirm","portalElement","document","getElementById","theme","dispatch","customization","state","languageType","_useState","_useState2","_slicedToArray","inputValue","setInputValue","_useState3","_useState4","inputParam","setInputParam","value","type","component","open","fullWidth","maxWidth","children","style","display","flexDirection","flex","sx","mb","ml","variant","label","border","borderColor","palette","grey","borderRadius","height","maxHeight","overflowX","backgroundColor","isDarkMode","disabled","onValueChange","code","placeholder","fontSize","minHeight","width","onClick","cancelButtonName","name","confirmButtonName"],"sources":["/Users/zorro/Downloads/Flowise/packages/ui/src/ui-component/dialog/ExpandTextDialog.js"],"sourcesContent":["import { createPortal } from 'react-dom'\nimport { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Button, Dialog, DialogActions, DialogContent, Typography } from '@mui/material'\nimport { useTheme } from '@mui/material/styles'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport { StyledButton } from 'ui-component/button/StyledButton'\nimport { DarkCodeEditor } from 'ui-component/editor/DarkCodeEditor'\nimport { LightCodeEditor } from 'ui-component/editor/LightCodeEditor'\nimport { HIDE_CANVAS_DIALOG, SHOW_CANVAS_DIALOG } from 'store/actions'\n\nimport './ExpandTextDialog.css'\n\nconst ExpandTextDialog = ({ show, dialogProps, onCancel, onConfirm }) => {\n    const portalElement = document.getElementById('portal')\n\n    const theme = useTheme()\n    const dispatch = useDispatch()\n    const customization = useSelector((state) => state.customization)\n    const languageType = 'json'\n\n    const [inputValue, setInputValue] = useState('')\n    const [inputParam, setInputParam] = useState(null)\n\n    useEffect(() => {\n        if (dialogProps.value) setInputValue(dialogProps.value)\n        if (dialogProps.inputParam) setInputParam(dialogProps.inputParam)\n\n        return () => {\n            setInputValue('')\n            setInputParam(null)\n        }\n    }, [dialogProps])\n\n    useEffect(() => {\n        if (show) dispatch({ type: SHOW_CANVAS_DIALOG })\n        else dispatch({ type: HIDE_CANVAS_DIALOG })\n    }, [show, dispatch])\n\n    const component = show ? (\n        <Dialog open={show} fullWidth maxWidth='md' aria-labelledby='alert-dialog-title' aria-describedby='alert-dialog-description'>\n            <DialogContent>\n                <div style={{ display: 'flex', flexDirection: 'row' }}>\n                    {inputParam && inputParam.type === 'string' && (\n                        <div style={{ flex: 70 }}>\n                            <Typography sx={{ mb: 2, ml: 1 }} variant='h4'>\n                                {inputParam.label}\n                            </Typography>\n                            <PerfectScrollbar\n                                style={{\n                                    border: '1px solid',\n                                    borderColor: theme.palette.grey['500'],\n                                    borderRadius: '12px',\n                                    height: '100%',\n                                    maxHeight: 'calc(100vh - 220px)',\n                                    overflowX: 'hidden',\n                                    backgroundColor: 'white'\n                                }}\n                            >\n                                {customization.isDarkMode ? (\n                                    <DarkCodeEditor\n                                        disabled={dialogProps.disabled}\n                                        value={inputValue}\n                                        onValueChange={(code) => setInputValue(code)}\n                                        placeholder={inputParam.placeholder}\n                                        type={languageType}\n                                        style={{\n                                            fontSize: '0.875rem',\n                                            minHeight: 'calc(100vh - 220px)',\n                                            width: '100%'\n                                        }}\n                                    />\n                                ) : (\n                                    <LightCodeEditor\n                                        disabled={dialogProps.disabled}\n                                        value={inputValue}\n                                        onValueChange={(code) => setInputValue(code)}\n                                        placeholder={inputParam.placeholder}\n                                        type={languageType}\n                                        style={{\n                                            fontSize: '0.875rem',\n                                            minHeight: 'calc(100vh - 220px)',\n                                            width: '100%'\n                                        }}\n                                    />\n                                )}\n                            </PerfectScrollbar>\n                        </div>\n                    )}\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onCancel}>{dialogProps.cancelButtonName}</Button>\n                <StyledButton disabled={dialogProps.disabled} variant='contained' onClick={() => onConfirm(inputValue, inputParam.name)}>\n                    {dialogProps.confirmButtonName}\n                </StyledButton>\n            </DialogActions>\n        </Dialog>\n    ) : null\n\n    return createPortal(component, portalElement)\n}\n\nExpandTextDialog.propTypes = {\n    show: PropTypes.bool,\n    dialogProps: PropTypes.object,\n    onCancel: PropTypes.func,\n    onConfirm: PropTypes.func\n}\n\nexport default ExpandTextDialog\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}