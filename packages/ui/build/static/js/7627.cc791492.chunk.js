"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[7627],{47136:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var r=n(96234),a=n(30969),i=n(29223),o=n(18041),s=n(37588),l=(n(30599),n(86420),n(13026)),d=n(38361),c=n(39088),u=n(34777),x=n(94702),h=n(33028),p=n(45971),f=n(47915),m=n(75295),g=n(26018),j=n(55705),Z=n(5853),y=n(22526),b=n(27341),w=n(11021),v=n(37574),k=(0,p.ZP)(j.Z)((function(e){var t=e.theme;return{background:t.palette.card.main,color:t.darkTextPrimary,border:"solid 1px",borderColor:t.palette.primary[200]+75,width:"300px",height:"auto",padding:"10px",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)","&:hover":{borderColor:t.palette.primary.main}}})),C=function(e){var t=e.data,n=(0,x.Z)(),i=(0,a.useState)(!1),o=(0,r.Z)(i,2),s=o[0],l=o[1],c=(0,a.useState)({}),u=(0,r.Z)(c,2),p=u[0],j=u[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k,{content:!1,sx:{padding:0,borderColor:t.selected?n.palette.primary.main:n.palette.text.secondary},border:!1,children:(0,v.jsxs)(d.Z,{children:[(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,v.jsx)(d.Z,{style:{width:50,marginRight:10,padding:5},children:(0,v.jsx)("div",{style:(0,h.Z)((0,h.Z)((0,h.Z)({},n.typography.commonAvatar),n.typography.largeAvatar),{},{borderRadius:"50%",backgroundColor:"white",cursor:"grab"}),children:(0,v.jsx)("img",{style:{width:"100%",height:"100%",padding:5,objectFit:"contain"},src:"".concat(w.v2,"/api/v1/node-icon/").concat(t.name),alt:"Notification"})})}),(0,v.jsx)(d.Z,{children:(0,v.jsx)(f.Z,{sx:{fontSize:"1rem",fontWeight:500},children:t.label})})]}),(t.inputAnchors.length>0||t.inputParams.length>0)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m.Z,{}),(0,v.jsx)(d.Z,{sx:{background:n.palette.asyncSelect.main,p:1},children:(0,v.jsx)(f.Z,{sx:{fontWeight:500,textAlign:"center"},children:"Inputs"})}),(0,v.jsx)(m.Z,{})]}),t.inputAnchors.map((function(e,n){return(0,v.jsx)(Z.Z,{disabled:!0,inputAnchor:e,data:t},n)})),t.inputParams.map((function(e,n){return(0,v.jsx)(Z.Z,{disabled:!0,inputParam:e,data:t},n)})),t.inputParams.find((function(e){return e.additionalParams}))&&(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)(g.Z,{sx:{borderRadius:25,width:"90%",mb:2},variant:"outlined",onClick:function(){var e={data:t,inputParams:t.inputParams.filter((function(e){return e.additionalParams})),disabled:!0,confirmButtonName:"Save",cancelButtonName:"Cancel"};j(e),l(!0)},children:"Additional Parameters"})}),(0,v.jsx)(m.Z,{}),(0,v.jsx)(d.Z,{sx:{background:n.palette.asyncSelect.main,p:1},children:(0,v.jsx)(f.Z,{sx:{fontWeight:500,textAlign:"center"},children:"Output"})}),(0,v.jsx)(m.Z,{}),t.outputAnchors.map((function(e,n){return(0,v.jsx)(y.Z,{disabled:!0,outputAnchor:e,data:t},n)}))]})}),(0,v.jsx)(b.Z,{show:s,dialogProps:p,onCancel:function(){return l(!1)}})]})},A=n(6596),N=n(59467),P=n(25139),S=n(52312),D=n(49009),F=function(e){var t=e.flowName,n=e.flowData,r=e.onChatflowCopy,a=(0,x.Z)(),i=(0,l.s0)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d.Z,{children:(0,v.jsx)(A.Z,{title:"Back",sx:{borderRadius:"50%"},children:(0,v.jsx)(N.Z,{variant:"rounded",sx:(0,h.Z)((0,h.Z)((0,h.Z)({},a.typography.commonAvatar),a.typography.mediumAvatar),{},{transition:"all .2s ease-in-out",background:a.palette.secondary.light,color:a.palette.secondary.dark,"&:hover":{background:a.palette.secondary.dark,color:a.palette.secondary.light}}),color:"inherit",onClick:function(){return i(-1)},children:(0,v.jsx)(D.ed9,{stroke:1.5,size:"1.3rem"})})})}),(0,v.jsx)(d.Z,{sx:{flexGrow:1},children:(0,v.jsx)(P.Z,{flexDirection:"row",children:(0,v.jsx)(f.Z,{sx:{fontSize:"1.5rem",fontWeight:600,ml:2},children:t})})}),(0,v.jsx)(d.Z,{children:(0,v.jsx)(S.S,{color:"secondary",variant:"contained",title:"Use Chatflow",onClick:function(){return r(n)},startIcon:(0,v.jsx)(D.vUr,{}),children:"Use Template"})})]})},R={customNode:C},O={buttonedge:""},T=function(){var e=(0,x.Z)(),t=(0,l.s0)(),n=(0,l.TH)().state,h=n.flowData,p=n.name,f=(0,i.Rr)(),m=(0,r.Z)(f,3),g=m[0],j=m[1],Z=m[2],y=(0,i.ll)(),b=(0,r.Z)(y,3),w=b[0],k=b[1],C=b[2],A=(0,a.useRef)(null);(0,a.useEffect)((function(){if(h){var e=JSON.parse(h);j(e.nodes||[]),k(e.edges||[])}}),[h]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(d.Z,{children:[(0,v.jsx)(c.Z,{enableColorOnDark:!0,position:"fixed",color:"inherit",elevation:1,sx:{bgcolor:e.palette.background.default},children:(0,v.jsx)(u.Z,{children:(0,v.jsx)(F,{flowName:p,flowData:JSON.parse(h),onChatflowCopy:function(e){return function(e){var n=JSON.stringify(e);t("/canvas",{state:{templateFlowData:n}})}(e)}})})}),(0,v.jsx)(d.Z,{sx:{pt:"70px",height:"100vh",width:"100%"},children:(0,v.jsx)("div",{className:"reactflow-parent-wrapper",children:(0,v.jsx)("div",{className:"reactflow-wrapper",ref:A,children:(0,v.jsxs)(i.x$,{nodes:g,edges:w,onNodesChange:Z,onEdgesChange:C,nodesDraggable:!1,nodeTypes:R,edgeTypes:O,fitView:!0,minZoom:.1,children:[(0,v.jsx)(o.Z,{style:{display:"flex",flexDirection:"row",left:"50%",transform:"translate(-50%, -50%)"}}),(0,v.jsx)(s.A,{color:"#aaa",gap:16})]})})})})]})})}}}]);
//# sourceMappingURL=7627.cc791492.chunk.js.map