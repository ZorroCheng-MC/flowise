"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[5601],{53024:function(t,e,n){n.r(e),n.d(e,{default:function(){return P}});var a=n(96234),i=n(33028),c=n(59740),r=n(30969),o=n(13026),s=n(69405),l=n(38361),d=n(25139),u=n(73447),f=n(8288),h=n(26754),x=n(94702),m=n(49009),p=n(55705),Z=n(24326),j=n(11021),v=n(55303),g=n(668),k=n(23917),b=function(){return k.Z.get("/marketplaces/chatflows")},w=function(){return k.Z.get("/marketplaces/tools")},C=n(60990),y=n(37574),S=["children","value","index"];function E(t){var e=t.children,n=t.value,a=t.index,r=(0,c.Z)(t,S);return(0,y.jsx)("div",(0,i.Z)((0,i.Z)({role:"tabpanel",hidden:n!==a,id:"attachment-tabpanel-".concat(a),"aria-labelledby":"attachment-tab-".concat(a)},r),{},{children:n===a&&(0,y.jsx)(l.Z,{sx:{p:1},children:e})}))}var P=function(){var t=(0,o.s0)(),e=(0,x.Z)(),n=(0,s.v9)((function(t){return t.customization})),i=(0,r.useState)(!0),c=(0,a.Z)(i,2),k=c[0],S=c[1],P=(0,r.useState)(!0),M=(0,a.Z)(P,2),N=M[0],T=M[1],D=(0,r.useState)({}),W=(0,a.Z)(D,2),A=W[0],F=W[1],I=["Chatflows","Tools"],q=(0,r.useState)(0),z=(0,a.Z)(q,2),B=z[0],G=z[1],O=(0,r.useState)(!1),V=(0,a.Z)(O,2),Y=V[0],_=V[1],J=(0,r.useState)({}),K=(0,a.Z)(J,2),L=K[0],R=K[1],U=(0,C.Z)(b),H=(0,C.Z)(w);return(0,r.useEffect)((function(){U.request(),H.request()}),[]),(0,r.useEffect)((function(){S(U.loading)}),[U.loading]),(0,r.useEffect)((function(){T(H.loading)}),[H.loading]),(0,r.useEffect)((function(){if(U.data)try{for(var t=U.data,e={},n=0;n<t.length;n+=1){var a=t[n].flowData,i=JSON.parse(a).nodes||[];e[t[n].id]=[];for(var c=0;c<i.length;c+=1){var r="".concat(j.v2,"/api/v1/node-icon/").concat(i[c].data.name);e[t[n].id].includes(r)||e[t[n].id].push(r)}}F(e)}catch(o){console.error(o)}}),[U.data]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(p.Z,{sx:{background:n.isDarkMode?e.palette.common.black:""},children:[(0,y.jsx)(d.Z,{flexDirection:"row",children:(0,y.jsx)("h1",{children:"Marketplace"})}),(0,y.jsx)(u.Z,{sx:{mb:2},variant:"fullWidth",value:B,onChange:function(t,e){G(e)},"aria-label":"tabs",children:I.map((function(t,e){return(0,y.jsx)(f.Z,{icon:0===e?(0,y.jsx)(m.Mv4,{}):(0,y.jsx)(m.cKW,{}),iconPosition:"start",label:(0,y.jsx)("span",{style:{fontSize:"1.1rem"},children:t})},e)}))}),I.map((function(e,n){return(0,y.jsxs)(E,{value:B,index:n,children:["Chatflows"===e&&(0,y.jsx)(h.ZP,{container:!0,spacing:j.dv,children:!k&&U.data&&U.data.map((function(e,n){return(0,y.jsx)(h.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,children:(0,y.jsx)(Z.Z,{onClick:function(){var n;t("/marketplace/".concat((n=e).id),{state:n})},data:e,images:A[e.id]})},n)}))}),"Tools"===e&&(0,y.jsx)(h.ZP,{container:!0,spacing:j.dv,children:!N&&H.data&&H.data.map((function(t,e){return(0,y.jsx)(h.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,children:(0,y.jsx)(Z.Z,{data:t,onClick:function(){return function(t){var e={title:t.templateName,type:"TEMPLATE",data:t};R(e),_(!0)}(t)}})},e)}))})]},n)})),!k&&(!U.data||0===U.data.length)&&(0,y.jsxs)(d.Z,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[(0,y.jsx)(l.Z,{sx:{p:2,height:"auto"},children:(0,y.jsx)("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:v.Z,alt:"WorkflowEmptySVG"})}),(0,y.jsx)("div",{children:"No Marketplace Yet"})]}),!N&&(!H.data||0===H.data.length)&&(0,y.jsxs)(d.Z,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[(0,y.jsx)(l.Z,{sx:{p:2,height:"auto"},children:(0,y.jsx)("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:v.Z,alt:"WorkflowEmptySVG"})}),(0,y.jsx)("div",{children:"No Marketplace Yet"})]})]}),(0,y.jsx)(g.Z,{show:Y,dialogProps:L,onCancel:function(){return _(!1)},onConfirm:function(){return _(!1)},onUseTemplate:function(t){return R({title:"Add New Tool",type:"IMPORT",cancelButtonName:"Cancel",confirmButtonName:"Add",data:t}),void _(!0)}})]})}}}]);
//# sourceMappingURL=5601.7b8f6e15.chunk.js.map