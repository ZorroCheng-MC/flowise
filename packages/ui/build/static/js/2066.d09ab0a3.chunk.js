"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[2066],{76858:function(e,n,t){var a=t(23917);n.Z={getAllChatflows:function(){return a.Z.get("/chatflows")},getSpecificChatflow:function(e){return a.Z.get("/chatflows/".concat(e))},getSpecificChatflowFromPublicEndpoint:function(e){return a.Z.get("/public-chatflows/".concat(e))},createNewChatflow:function(e){return a.Z.post("/chatflows",e)},updateChatflow:function(e,n){return a.Z.put("/chatflows/".concat(e),n)},deleteChatflow:function(e){return a.Z.delete("/chatflows/".concat(e))},getIsChatflowStreaming:function(e){return a.Z.get("/chatflows-streaming/".concat(e))}}},60990:function(e,n,t){var a=t(32723),r=t(34795),o=t(96234),i=t(30969);n.Z=function(e){var n=(0,i.useState)(null),t=(0,o.Z)(n,2),l=t[0],s=t[1],c=(0,i.useState)(null),u=(0,o.Z)(c,2),d=u[0],h=u[1],f=(0,i.useState)(!1),p=(0,o.Z)(f,2),m=p[0],v=p[1],g=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var t,r=arguments;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v(!0),n.prev=1,n.next=4,e.apply(void 0,r);case 4:t=n.sent,s(t.data),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),h(n.t0||"Unexpected Error!");case 11:return n.prev=11,v(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])})));return function(){return n.apply(this,arguments)}}();return{data:l,error:d,loading:m,request:g}}},52312:function(e,n,t){t.d(n,{S:function(){return o}});var a=t(45971),r=t(26018),o=(0,a.ZP)(r.Z)((function(e){var n=e.theme,t=e.color,a=void 0===t?"primary":t;return{color:"white",backgroundColor:n.palette[a].main,"&:hover":{backgroundColor:n.palette[a].main,backgroundImage:"linear-gradient(rgb(0 0 0/10%) 0 0)"}}}))},54231:function(e,n,t){var a=t(96234),r=t(15749),o=t(30969),i=t(48886),l=t(38357),s=t(87130),c=t(47915),u=t(91862),d=t(52312),h=t(30530),f=t(37574);n.Z=function(e){var n=e.show,t=e.dialogProps,p=e.onConfirm,m=document.getElementById("portal"),v=(0,o.useState)(""),g=(0,a.Z)(v,2),x=g[0],Z=g[1],w=(0,o.useState)(""),b=(0,a.Z)(w,2),y=b[0],C=b[1],j=n?(0,f.jsxs)(i.Z,{onKeyUp:function(e){"Enter"===e.key&&p(x,y)},open:n,fullWidth:!0,maxWidth:"xs","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,f.jsx)(l.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:t.title}),(0,f.jsxs)(s.Z,{children:[(0,f.jsx)(c.Z,{children:"Username"}),(0,f.jsx)(h.I,{inputParam:{label:"Username",name:"username",type:"string",placeholder:"john doe"},onChange:function(e){return Z(e)},value:x,showDialog:!1}),(0,f.jsx)("div",{style:{marginTop:20}}),(0,f.jsx)(c.Z,{children:"Password"}),(0,f.jsx)(h.I,{inputParam:{label:"Password",name:"password",type:"password"},onChange:function(e){return C(e)},value:y})]}),(0,f.jsx)(u.Z,{children:(0,f.jsx)(d.S,{variant:"contained",onClick:function(){return p(x,y)},children:t.confirmButtonName})})]}):null;return(0,r.createPortal)(j,m)}},84956:function(e,n,t){t.d(n,{x:function(){return c}});var a=t(33028),r=t(45304),o=t.n(r),i=t(73835),l=(t(49015),t(61889),t(58457),t(44057),t(94702)),s=t(37574),c=function(e){var n=e.value,t=e.placeholder,r=e.disabled,c=void 0!==r&&r,u=e.type,d=e.style,h=e.onValueChange,f=e.onMouseUp,p=e.onBlur,m=(0,l.Z)();return(0,s.jsx)(o(),{disabled:c,value:n,placeholder:t,highlight:function(e){return(0,i.highlight)(e,"json"===u?i.languages.json:i.languages.js)},padding:10,onValueChange:h,onMouseUp:f,onBlur:p,tabSize:4,style:(0,a.Z)((0,a.Z)({},d),{},{background:m.palette.codeEditor.main}),textareaClassName:"editor__textarea"})}},94677:function(e,n,t){t.d(n,{d:function(){return c}});var a=t(33028),r=t(45304),o=t.n(r),i=t(73835),l=(t(49015),t(61889),t(58457),t(44057),t(94702)),s=t(37574),c=function(e){var n=e.value,t=e.placeholder,r=e.disabled,c=void 0!==r&&r,u=e.type,d=e.style,h=e.onValueChange,f=e.onMouseUp,p=e.onBlur,m=(0,l.Z)();return(0,s.jsx)(o(),{disabled:c,value:n,placeholder:t,highlight:function(e){return(0,i.highlight)(e,"json"===u?i.languages.json:i.languages.js)},padding:10,onValueChange:h,onMouseUp:f,onBlur:p,tabSize:4,style:(0,a.Z)((0,a.Z)({},d),{},{background:m.palette.card.main}),textareaClassName:"editor__textarea"})}},30530:function(e,n,t){t.d(n,{I:function(){return C}});var a=t(96234),r=t(30969),o=t(39494),i=t(33656),l=t(15749),s=t(69405),c=t(48886),u=t(87130),d=t(47915),h=t(91862),f=t(26018),p=t(94702),m=t(42558),v=t.n(m),g=t(52312),x=t(84956),Z=t(94677),w=t(2383),b=t(37574),y=function(e){var n=e.show,t=e.dialogProps,o=e.onCancel,i=e.onConfirm,m=document.getElementById("portal"),y=(0,p.Z)(),C=(0,s.I0)(),j=(0,s.v9)((function(e){return e.customization})),S="json",k=(0,r.useState)(""),P=(0,a.Z)(k,2),N=P[0],M=P[1],R=(0,r.useState)(null),B=(0,a.Z)(R,2),E=B[0],D=B[1];(0,r.useEffect)((function(){return t.value&&M(t.value),t.inputParam&&D(t.inputParam),function(){M(""),D(null)}}),[t]),(0,r.useEffect)((function(){C(n?{type:w.tS}:{type:w.Go})}),[n,C]);var F=n?(0,b.jsxs)(c.Z,{open:n,fullWidth:!0,maxWidth:"md","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,b.jsx)(u.Z,{children:(0,b.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:E&&"string"===E.type&&(0,b.jsxs)("div",{style:{flex:70},children:[(0,b.jsx)(d.Z,{sx:{mb:2,ml:1},variant:"h4",children:E.label}),(0,b.jsx)(v(),{style:{border:"1px solid",borderColor:y.palette.grey[500],borderRadius:"12px",height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden",backgroundColor:"white"},children:j.isDarkMode?(0,b.jsx)(x.x,{disabled:t.disabled,value:N,onValueChange:function(e){return M(e)},placeholder:E.placeholder,type:S,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"}}):(0,b.jsx)(Z.d,{disabled:t.disabled,value:N,onValueChange:function(e){return M(e)},placeholder:E.placeholder,type:S,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"}})})]})})}),(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(f.Z,{onClick:o,children:t.cancelButtonName}),(0,b.jsx)(g.S,{disabled:t.disabled,variant:"contained",onClick:function(){return i(N,E.name)},children:t.confirmButtonName})]})]}):null;return(0,l.createPortal)(F,m)},C=function(e){var n,t,l=e.inputParam,s=e.value,c=e.onChange,u=e.disabled,d=void 0!==u&&u,h=e.showDialog,f=e.dialogProps,p=e.onDialogCancel,m=e.onDialogConfirm,v=(0,r.useState)(null!==s&&void 0!==s?s:""),g=(0,a.Z)(v,2),x=g[0],Z=g[1];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Z,{sx:{mt:1,width:"100%"},size:"small",children:(0,b.jsx)(i.Z,{id:l.name,size:"small",disabled:d,type:function(e){switch(e){case"string":default:return"text";case"password":return"password";case"number":return"number"}}(l.type),placeholder:l.placeholder,multiline:!!l.rows,rows:null!==(n=l.rows)&&void 0!==n?n:1,value:x,name:l.name,onChange:function(e){Z(e.target.value),c(e.target.value)},inputProps:{step:null!==(t=l.step)&&void 0!==t?t:.1,style:{height:l.rows?"90px":"inherit"}}})}),h&&(0,b.jsx)(y,{show:h,dialogProps:f,onCancel:p,onConfirm:function(e,n){Z(e),m(e,n)}})]})}},80256:function(e,n,t){t.r(n);var a=t(96234),r=t(30969),o=t(13026),i=t(69405),l=t(25139),s=t(26754),c=t(38361),u=t(94702),d=t(55705),h=t(24326),f=t(11021),p=t(55303),m=t(52312),v=t(54231),g=t(76858),x=t(60990),Z=t(49009),w=t(37574);n.default=function(){var e=(0,o.s0)(),n=(0,u.Z)(),t=(0,i.v9)((function(e){return e.customization})),b=(0,r.useState)(!0),y=(0,a.Z)(b,2),C=y[0],j=y[1],S=(0,r.useState)({}),k=(0,a.Z)(S,2),P=k[0],N=k[1],M=(0,r.useState)(!1),R=(0,a.Z)(M,2),B=R[0],E=R[1],D=(0,r.useState)({}),F=(0,a.Z)(D,2),I=F[0],A=F[1],z=(0,x.Z)(g.Z.getAllChatflows);return(0,r.useEffect)((function(){z.request()}),[]),(0,r.useEffect)((function(){var e,n;z.error&&(401===(null===(e=z.error)||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&(A({title:"Login",confirmButtonName:"Login"}),E(!0)))}),[z.error]),(0,r.useEffect)((function(){j(z.loading)}),[z.loading]),(0,r.useEffect)((function(){if(z.data)try{for(var e=z.data,n={},t=0;t<e.length;t+=1){var a=e[t].flowData,r=JSON.parse(a).nodes||[];n[e[t].id]=[];for(var o=0;o<r.length;o+=1){var i="".concat(f.v2,"/api/v1/node-icon/").concat(r[o].data.name);n[e[t].id].includes(i)||n[e[t].id].push(i)}}N(n)}catch(l){console.error(l)}}),[z.data]),(0,w.jsxs)(d.Z,{sx:{background:t.isDarkMode?n.palette.common.black:""},children:[(0,w.jsxs)(l.Z,{flexDirection:"row",children:[(0,w.jsx)("h1",{children:"Chatflows"}),(0,w.jsxs)(s.ZP,{sx:{mb:1.25},container:!0,direction:"row",children:[(0,w.jsx)(c.Z,{sx:{flexGrow:1}}),(0,w.jsx)(s.ZP,{item:!0,children:(0,w.jsx)(m.S,{variant:"contained",sx:{color:"white"},onClick:function(){e("/canvas")},startIcon:(0,w.jsx)(Z.SC9,{}),children:"Add New"})})]})]}),(0,w.jsx)(s.ZP,{container:!0,spacing:f.dv,children:!C&&z.data&&z.data.map((function(n,t){return(0,w.jsx)(s.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,children:(0,w.jsx)(h.Z,{onClick:function(){e("/canvas/".concat(n.id))},data:n,images:P[n.id]})},t)}))}),!C&&(!z.data||0===z.data.length)&&(0,w.jsxs)(l.Z,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[(0,w.jsx)(c.Z,{sx:{p:2,height:"auto"},children:(0,w.jsx)("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:p.Z,alt:"WorkflowEmptySVG"})}),(0,w.jsx)("div",{children:"No Chatflows Yet"})]}),(0,w.jsx)(v.Z,{show:B,dialogProps:I,onConfirm:function(n,t){localStorage.setItem("username",n),localStorage.setItem("password",t),e(0)}})]})}},15237:function(e,n,t){t.d(n,{Z:function(){return B}});var a=t(71171),r=t(31461),o=t(7896),i=t(30969),l=t(81856),s=t(54470),c=t(26540);function u(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function d(e){return parseFloat(e)}var h=t(74262),f=t(45971),p=t(17363),m=t(62746),v=t(2975);function g(e){return(0,v.Z)("MuiSkeleton",e)}(0,m.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var x,Z,w,b,y,C,j,S,k=t(37574),P=["animation","className","component","height","style","variant","width"],N=(0,s.F4)(y||(y=x||(x=(0,a.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),M=(0,s.F4)(C||(C=Z||(Z=(0,a.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),R=(0,f.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n[t.variant],!1!==t.animation&&n[t.animation],t.hasChildren&&n.withChildren,t.hasChildren&&!t.width&&n.fitContent,t.hasChildren&&!t.height&&n.heightAuto]}})((function(e){var n=e.theme,t=e.ownerState,a=u(n.shape.borderRadius)||"px",r=d(n.shape.borderRadius);return(0,o.Z)({display:"block",backgroundColor:n.vars?n.vars.palette.Skeleton.bg:(0,h.Fq)(n.palette.text.primary,"light"===n.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(r).concat(a,"/").concat(Math.round(r/.6*10)/10).concat(a),"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},"rounded"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})}),(function(e){return"pulse"===e.ownerState.animation&&(0,s.iv)(j||(j=w||(w=(0,a.Z)(["\n      animation: "," 1.5s ease-in-out 0.5s infinite;\n    "]))),N)}),(function(e){var n=e.ownerState,t=e.theme;return"wave"===n.animation&&(0,s.iv)(S||(S=b||(b=(0,a.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 1.6s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),M,(t.vars||t).palette.action.hover)})),B=i.forwardRef((function(e,n){var t=(0,p.Z)({props:e,name:"MuiSkeleton"}),a=t.animation,i=void 0===a?"pulse":a,s=t.className,u=t.component,d=void 0===u?"span":u,h=t.height,f=t.style,m=t.variant,v=void 0===m?"text":m,x=t.width,Z=(0,r.Z)(t,P),w=(0,o.Z)({},t,{animation:i,component:d,variant:v,hasChildren:Boolean(Z.children)}),b=function(e){var n=e.classes,t=e.variant,a=e.animation,r=e.hasChildren,o=e.width,i=e.height,l={root:["root",t,a,r&&"withChildren",r&&!o&&"fitContent",r&&!i&&"heightAuto"]};return(0,c.Z)(l,g,n)}(w);return(0,k.jsx)(R,(0,o.Z)({as:d,ref:n,className:(0,l.Z)(b.root,s),ownerState:w},Z,{style:(0,o.Z)({width:x,height:h},f)}))}))},25139:function(e,n,t){t.d(n,{Z:function(){return P}});var a=t(56666),r=t(31461),o=t(7896),i=t(30969),l=t(81856),s=t(87929),c=t(26540),u=t(2975),d=t(19210),h=t(33876),f=t(49505),p=t(37333),m=t(29878),v=t(78433),g=t(37574),x=["component","direction","spacing","divider","children","className","useFlexGap"],Z=(0,p.Z)(),w=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return n.root}});function b(e){return(0,h.Z)({props:e,name:"MuiStack",defaultTheme:Z})}function y(e,n){var t=i.Children.toArray(e).filter(Boolean);return t.reduce((function(e,a,r){return e.push(a),r<t.length-1&&e.push(i.cloneElement(n,{key:"separator-".concat(r)})),e}),[])}var C=function(e){var n=e.ownerState,t=e.theme,r=(0,o.Z)({display:"flex",flexDirection:"column"},(0,m.k9)({theme:t},(0,m.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var i=(0,v.hB)(t),l=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),c=(0,m.P$)({values:n.direction,base:l}),u=(0,m.P$)({values:n.spacing,base:l});"object"===typeof c&&Object.keys(c).forEach((function(e,n,t){if(!c[e]){var a=n>0?c[t[n-1]]:"column";c[e]=a}}));r=(0,s.Z)(r,(0,m.k9)({theme:t},u,(function(e,t){return n.useFlexGap?{gap:(0,v.NA)(i,e)}:{"& > :not(style) ~ :not(style)":(0,a.Z)({margin:0},"margin".concat((r=t?c[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,v.NA)(i,e))};var r})))}return r=(0,m.dt)(t.breakpoints,r)};var j=t(45971),S=t(17363),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.createStyledComponent,t=void 0===n?w:n,a=e.useThemeProps,s=void 0===a?b:a,d=e.componentName,h=void 0===d?"MuiStack":d,p=t(C),m=i.forwardRef((function(e,n){var t=s(e),a=(0,f.Z)(t),i=a.component,d=void 0===i?"div":i,m=a.direction,v=void 0===m?"column":m,Z=a.spacing,w=void 0===Z?0:Z,b=a.divider,C=a.children,j=a.className,S=a.useFlexGap,k=void 0!==S&&S,P=(0,r.Z)(a,x),N={direction:v,spacing:w,useFlexGap:k},M=(0,c.Z)({root:["root"]},(function(e){return(0,u.Z)(h,e)}),{});return(0,g.jsx)(p,(0,o.Z)({as:d,ownerState:N,ref:n,className:(0,l.Z)(M.root,j)},P,{children:b?y(C,b):C}))}));return m}({createStyledComponent:(0,j.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return n.root}}),useThemeProps:function(e){return(0,S.Z)({props:e,name:"MuiStack"})}}),P=k},19210:function(e,n,t){var a=(0,t(48868).ZP)();n.Z=a}}]);
//# sourceMappingURL=2066.d09ab0a3.chunk.js.map