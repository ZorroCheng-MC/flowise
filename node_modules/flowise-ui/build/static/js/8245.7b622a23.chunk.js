"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[8245],{27341:function(e,n,t){var i=t(96234),a=t(15749),o=t(69405),r=t(30969),l=t(48886),s=t(87130),d=t(42558),u=t.n(d),c=t(5853),p=t(2383),f=t(37574);n.Z=function(e){var n=e.show,t=e.dialogProps,d=e.onCancel,h=document.getElementById("portal"),m=(0,o.I0)(),x=(0,r.useState)([]),v=(0,i.Z)(x,2),g=v[0],b=v[1],Z=(0,r.useState)({}),j=(0,i.Z)(Z,2),y=j[0],w=j[1];(0,r.useEffect)((function(){return t.inputParams&&b(t.inputParams),t.data&&w(t.data),function(){b([]),w({})}}),[t]),(0,r.useEffect)((function(){m(n?{type:p.tS}:{type:p.Go})}),[n,m]);var C=n?(0,f.jsx)(l.Z,{onClose:d,open:n,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,f.jsx)(s.Z,{children:(0,f.jsx)(u(),{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:g.map((function(e,n){return(0,f.jsx)(c.Z,{disabled:t.disabled,inputParam:e,data:y,isAdditionalParams:!0},n)}))})})}):null;return(0,a.createPortal)(C,h)}},34061:function(e,n,t){t.d(n,{L:function(){return g}});var i=t(33028),a=t(96234),o=t(56666),r=t(30969),l=t(69405),s=t(35078),d=t(39494),u=t(98483),c=t(38361),p=t(47915),f=t(57203),h=t(22083),m=t(45971),x=t(37574),v=(0,m.ZP)(s.Z)((0,o.Z)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"},"& .".concat(f.Z.listbox),{boxSizing:"border-box","& ul":{padding:10,margin:10}})),g=function(e){var n=e.name,t=e.value,o=e.options,s=e.onSelect,f=e.disabled,m=void 0!==f&&f,g=e.disableClearable,b=void 0!==g&&g,Z=(0,l.v9)((function(e){return e.customization})),j=(0,r.useState)(null!==t&&void 0!==t?t:"choose an option"),y=(0,a.Z)(j,2),w=y[0],C=y[1];return(0,x.jsx)(d.Z,{sx:{mt:1,width:"100%"},size:"small",children:(0,x.jsx)(h.Z,{id:n,disabled:m,disableClearable:b,size:"small",options:o||[],value:function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((function(n){return n.name===e}))}(o,w)||"",onChange:function(e,n){var t=n?n.name:"";C(t),s(t)},PopperComponent:v,renderInput:function(e){return(0,x.jsx)(u.Z,(0,i.Z)((0,i.Z)({},e),{},{value:w}))},renderOption:function(e,n){return(0,x.jsx)(c.Z,(0,i.Z)((0,i.Z)({component:"li"},e),{},{children:(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,x.jsx)(p.Z,{variant:"h5",children:n.label}),n.description&&(0,x.jsx)(p.Z,{sx:{color:Z.isDarkMode?"#9e9e9e":""},children:n.description})]})}))}})})}},30530:function(e,n,t){t.d(n,{I:function(){return w}});var i=t(96234),a=t(30969),o=t(39494),r=t(33656),l=t(15749),s=t(69405),d=t(48886),u=t(87130),c=t(47915),p=t(91862),f=t(26018),h=t(94702),m=t(42558),x=t.n(m),v=t(52312),g=t(84956),b=t(94677),Z=t(2383),j=t(37574),y=function(e){var n=e.show,t=e.dialogProps,o=e.onCancel,r=e.onConfirm,m=document.getElementById("portal"),y=(0,h.Z)(),w=(0,s.I0)(),C=(0,s.v9)((function(e){return e.customization})),S="json",P=(0,a.useState)(""),k=(0,i.Z)(P,2),D=k[0],N=k[1],I=(0,a.useState)(null),z=(0,i.Z)(I,2),F=z[0],R=z[1];(0,a.useEffect)((function(){return t.value&&N(t.value),t.inputParam&&R(t.inputParam),function(){N(""),R(null)}}),[t]),(0,a.useEffect)((function(){w(n?{type:Z.tS}:{type:Z.Go})}),[n,w]);var E=n?(0,j.jsxs)(d.Z,{open:n,fullWidth:!0,maxWidth:"md","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,j.jsx)(u.Z,{children:(0,j.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:F&&"string"===F.type&&(0,j.jsxs)("div",{style:{flex:70},children:[(0,j.jsx)(c.Z,{sx:{mb:2,ml:1},variant:"h4",children:F.label}),(0,j.jsx)(x(),{style:{border:"1px solid",borderColor:y.palette.grey[500],borderRadius:"12px",height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden",backgroundColor:"white"},children:C.isDarkMode?(0,j.jsx)(g.x,{disabled:t.disabled,value:D,onValueChange:function(e){return N(e)},placeholder:F.placeholder,type:S,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"}}):(0,j.jsx)(b.d,{disabled:t.disabled,value:D,onValueChange:function(e){return N(e)},placeholder:F.placeholder,type:S,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"}})})]})})}),(0,j.jsxs)(p.Z,{children:[(0,j.jsx)(f.Z,{onClick:o,children:t.cancelButtonName}),(0,j.jsx)(v.S,{disabled:t.disabled,variant:"contained",onClick:function(){return r(D,F.name)},children:t.confirmButtonName})]})]}):null;return(0,l.createPortal)(E,m)},w=function(e){var n,t,l=e.inputParam,s=e.value,d=e.onChange,u=e.disabled,c=void 0!==u&&u,p=e.showDialog,f=e.dialogProps,h=e.onDialogCancel,m=e.onDialogConfirm,x=(0,a.useState)(null!==s&&void 0!==s?s:""),v=(0,i.Z)(x,2),g=v[0],b=v[1];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.Z,{sx:{mt:1,width:"100%"},size:"small",children:(0,j.jsx)(r.Z,{id:l.name,size:"small",disabled:c,type:function(e){switch(e){case"string":default:return"text";case"password":return"password";case"number":return"number"}}(l.type),placeholder:l.placeholder,multiline:!!l.rows,rows:null!==(n=l.rows)&&void 0!==n?n:1,value:g,name:l.name,onChange:function(e){b(e.target.value),d(e.target.value)},inputProps:{step:null!==(t=l.step)&&void 0!==t?t:.1,style:{height:l.rows?"90px":"inherit"}}})}),p&&(0,j.jsx)(y,{show:p,dialogProps:f,onCancel:h,onConfirm:function(e,n){b(e),m(e,n)}})]})}},5853:function(e,n,t){t.d(n,{Z:function(){return he}});var i=t(41361),a=t(96234),o=t(56666),r=t(33028),l=t(59740),s=t(29223),d=t(30969),u=t(69405),c=t(45971),p=t(94702),f=t(6779),h=t(38361),m=t(47915),x=t(91243),v=t(26018),g=t(2295),b=t(49009),Z=t(34061),j=t(68079),y=t(32723),w=t(34795),C=t(95803),S=t.n(C),P=t(57203),k=t(22083),D=t(35078),N=t(98483),I=t(94267),z=t(11021),F=t(37574),R=(0,c.ZP)(D.Z)((0,o.Z)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"},"& .".concat(P.Z.listbox),{boxSizing:"border-box","& ul":{padding:10,margin:10}})),E=function(){var e=(0,w.Z)((0,y.Z)().mark((function e(n){var t,i,a,o,l,s,d;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.name,a=n.nodeData,o=null===(t=a.inputParams.find((function(e){return e.name===i})))||void 0===t?void 0:t.loadMethod,l=localStorage.getItem("username"),s=localStorage.getItem("password"),e.next=6,S().post("".concat(z.v2,"/api/v1/node-load-method/").concat(a.name),(0,r.Z)((0,r.Z)({},a),{},{loadMethod:o}),{auth:l&&s?{username:l,password:s}:void 0}).then(function(){var e=(0,w.Z)((0,y.Z)().mark((function e(n){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.data);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)}));case 6:return d=e.sent,e.abrupt("return",d);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T=function(e){var n=e.name,t=e.nodeData,i=e.value,o=e.onSelect,l=e.isCreateNewOption,s=e.onCreateNew,c=e.disabled,p=void 0!==c&&c,f=e.disableClearable,x=void 0!==f&&f,v=(0,u.v9)((function(e){return e.customization})),g=(0,d.useState)(!1),b=(0,a.Z)(g,2),Z=b[0],C=b[1],S=(0,d.useState)([]),P=(0,a.Z)(S,2),D=P[0],z=P[1],T=(0,d.useState)(!1),A=(0,a.Z)(T,2),H=A[0],O=A[1],V=[{label:"- Create New -",name:"-create-"}],B=(0,d.useState)(null!==i&&void 0!==i?i:"choose an option"),L=(0,a.Z)(B,2),M=L[0],J=L[1];return(0,d.useEffect)((function(){O(!0),(0,w.Z)((0,y.Z)().mark((function e(){var i;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){var e=(0,w.Z)((0,y.Z)().mark((function e(){var i;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({name:n,nodeData:t});case 2:i=e.sent,z(l?[].concat((0,j.Z)(i),V):(0,j.Z)(i)),O(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i();case 2:case"end":return e.stop()}}),e)})))()}),[]),(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(k.Z,{id:n,disabled:p,disableClearable:x,size:"small",sx:{width:"100%"},open:Z,onOpen:function(){C(!0)},onClose:function(){C(!1)},options:D,value:function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((function(n){return n.name===e}))}(D,M)||"",onChange:function(e,n){var t=n?n.name:"";l&&"-create-"===t?s():(J(t),o(t))},PopperComponent:R,loading:H,renderInput:function(e){return(0,F.jsx)(N.Z,(0,r.Z)((0,r.Z)({},e),{},{value:M,InputProps:(0,r.Z)((0,r.Z)({},e.InputProps),{},{endAdornment:(0,F.jsxs)(d.Fragment,{children:[H?(0,F.jsx)(I.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},renderOption:function(e,n){return(0,F.jsx)(h.Z,(0,r.Z)((0,r.Z)({component:"li"},e),{},{children:(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,F.jsx)(m.Z,{variant:"h5",children:n.label}),n.description&&(0,F.jsx)(m.Z,{sx:{color:v.isDarkMode?"#9e9e9e":""},children:n.description})]})}))}})})},A=t(30530),H=t(39494),O=t(86115),V=function(e){var n=e.value,t=e.fileType,i=e.onChange,o=e.disabled,r=void 0!==o&&o,l=(0,p.Z)(),s=(0,d.useState)(null!==n&&void 0!==n?n:""),u=(0,a.Z)(s,2),c=u[0],f=u[1],h=function(){var e=(0,w.Z)((0,y.Z)().mark((function e(n){var t,a,o,r,l;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.files){e.next=2;break}return e.abrupt("return");case 2:if(1!==n.target.files.length){e.next=10;break}t=n.target.files[0],a=t.name,(o=new FileReader).onload=function(e){var n;if(null!==e&&void 0!==e&&null!==(n=e.target)&&void 0!==n&&n.result){var t=e.target.result+",filename:".concat(a);f(t),i(t)}},o.readAsDataURL(t),e.next=17;break;case 10:if(!(n.target.files.length>0)){e.next=17;break}return r=Array.from(n.target.files).map((function(e){var n=new FileReader,t=e.name;return new Promise((function(i){n.onload=function(e){var n;if(null!==e&&void 0!==e&&null!==(n=e.target)&&void 0!==n&&n.result){var a=e.target.result+",filename:".concat(t);i(a)}},n.readAsDataURL(e)}))})),e.next=14,Promise.all(r);case 14:l=e.sent,f(JSON.stringify(l)),i(JSON.stringify(l));case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,F.jsxs)(H.Z,{sx:{mt:1,width:"100%"},size:"small",children:[(0,F.jsx)("span",{style:{fontStyle:"italic",color:l.palette.grey[800],marginBottom:"1rem"},children:c?(0,O.UO)(c):"Choose a file to upload"}),(0,F.jsxs)(v.Z,{disabled:r,variant:"outlined",component:"label",fullWidth:!0,startIcon:(0,F.jsx)(b.bCE,{}),sx:{marginRight:"1rem"},children:["Upload File",(0,F.jsx)("input",{type:"file",multiple:!0,accept:t,hidden:!0,onChange:function(e){return h(e)}})]})]})},B=t(70475),L=function(e){var n,t=e.value,i=e.onChange,o=e.disabled,r=void 0!==o&&o,l=(0,d.useState)(null!==(n=!!t)&&void 0!==n&&n),s=(0,a.Z)(l,2),u=s[0],c=s[1];return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(H.Z,{sx:{mt:1,width:"100%"},size:"small",children:(0,F.jsx)(B.Z,{disabled:r,checked:u,onChange:function(e){c(e.target.checked),i(e.target.checked)}})})})},M=t(99177),J=t(35531),W=t(46804),U=t.n(W),_=t(25139),q=t(67888),G=t(33485),K=t(54279),X=t(25599),Q=t(86008),Y=t(42558),$=t.n(Y),ee=function(e){var n=e.availableNodesForVariable,t=e.disabled,i=void 0!==t&&t,a=e.onSelectAndReturnVal,o=(0,u.v9)((function(e){return e.customization})),r=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"question":"".concat(e.id,".data.instance"),t="{{".concat(n,"}}");a(t)};return(0,F.jsx)(F.Fragment,{children:!i&&(0,F.jsxs)("div",{style:{flex:30},children:[(0,F.jsx)(_.Z,{flexDirection:"row",sx:{mb:1,ml:2,mt:2},children:(0,F.jsx)(m.Z,{variant:"h5",children:"Select Variable"})}),(0,F.jsx)($(),{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:(0,F.jsx)(h.Z,{sx:{pl:2,pr:2},children:(0,F.jsxs)(q.Z,{children:[(0,F.jsx)(G.Z,{sx:{p:0,borderRadius:"".concat(o.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:i,onClick:function(){return r(null,!0)},children:(0,F.jsxs)(K.ZP,{alignItems:"center",children:[(0,F.jsx)(X.Z,{children:(0,F.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,F.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"AI",src:"https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/parroticon.png"})})}),(0,F.jsx)(Q.Z,{sx:{ml:1},primary:"question",secondary:"User's question from chatbox"})]})}),n&&n.length>0&&n.map((function(e,n){var t,a=e.data.outputAnchors[0].options.find((function(n){return n.name===e.data.outputs.output}));return(0,F.jsx)(G.Z,{sx:{p:0,borderRadius:"".concat(o.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:i,onClick:function(){return r(e)},children:(0,F.jsxs)(K.ZP,{alignItems:"center",children:[(0,F.jsx)(X.Z,{children:(0,F.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,F.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:e.data.name,src:"".concat(z.v2,"/api/v1/node-icon/").concat(e.data.name)})})}),(0,F.jsx)(Q.Z,{sx:{ml:1},primary:e.data.inputs.chainName?e.data.inputs.chainName:e.data.id,secondary:"".concat(null!==(t=null===a||void 0===a?void 0:a.label)&&void 0!==t?t:"output"," from ").concat(e.data.label)})]})},n)}))]})})})]})})},ne=t(50576),te=function(e){var n=e.value,t=e.onChange,i=e.inputParam,l=e.nodes,s=e.edges,u=e.nodeId,c=e.disabled,p=void 0!==c&&c,f=e.isDarkMode,h=void 0!==f&&f,m=(0,d.useState)(n?JSON.parse(n):{}),x=(0,a.Z)(m,2),v=x[0],g=x[1],b=(0,d.useState)([]),Z=(0,a.Z)(b,2),j=Z[0],y=Z[1],w=(0,d.useState)(""),C=(0,a.Z)(w,2),S=C[0],P=C[1],k=(0,d.useState)(null),D=(0,a.Z)(k,2),N=D[0],I=D[1],z=Boolean(N),R=function(){I(null)},E=function(e){var n=e.src;Array.isArray(n)||"object"===typeof n?navigator.clipboard.writeText(JSON.stringify(n,null,"  ")):navigator.clipboard.writeText(n)};return(0,d.useEffect)((function(){if(!p&&l&&s&&u&&i){var e=null!==i&&void 0!==i&&i.acceptVariable?(0,O.Hg)(l,s,u,i.id):[];y(e)}}),[p,i,l,s,u]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(H.Z,{sx:{mt:1,width:"100%"},size:"small",children:[p&&(0,F.jsx)(U(),{theme:h?"ocean":"rjv-default",style:{padding:10,borderRadius:10},src:v,name:null,enableClipboard:function(e){return E(e)},quotesOnKeys:!1,displayDataTypes:!1}),!p&&(0,F.jsx)("div",{children:(0,F.jsx)(U(),{theme:h?"ocean":"rjv-default",style:{padding:10,borderRadius:10},src:v,name:null,quotesOnKeys:!1,displayDataTypes:!1,enableClipboard:function(e){return E(e)},onMouseUp:function(e){null!==i&&void 0!==i&&i.acceptVariable&&(P(e.name),I(e.currentTarget))},onEdit:function(e){g(e.updated_src),t(JSON.stringify(e.updated_src))},onAdd:function(){},onDelete:function(e){g(e.updated_src),t(JSON.stringify(e.updated_src))}})},JSON.stringify(v))]}),(null===i||void 0===i?void 0:i.acceptVariable)&&(0,F.jsx)(J.ZP,{open:z,anchorEl:N,onClose:R,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,F.jsx)(ee,{disabled:p,availableNodesForVariable:j,onSelectAndReturnVal:function(e){!function(e){var n=(0,ne.cloneDeep)(v);n[S]=e,t(JSON.stringify(n)),g((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,o.Z)({},S,e))}))}(e),R()}})})]})},ie=t(97251),ae=t(668),oe=t(15749),re=t(48886),le=t(38357),se=t(87130),de=t(2383),ue=function(e){var n=e.show,t=e.dialogProps,i=e.onChange,a=e.onCancel,o=document.getElementById("portal"),r=(0,u.v9)((function(e){return e.customization})),l=(0,u.I0)();(0,d.useEffect)((function(){l(n?{type:de.tS}:{type:de.Go})}),[n,l]);var s=n?(0,F.jsxs)(re.Z,{onClose:a,open:n,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,F.jsx)(le.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:"Format Prompt Values"}),(0,F.jsx)(se.Z,{children:(0,F.jsx)($(),{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:(0,F.jsx)(te,{onChange:function(e){return i(e)},value:t.value,isDarkMode:r.isDarkMode,inputParam:t.inputParam,nodes:t.nodes,edges:t.edges,nodeId:t.nodeId})})})]}):null;return(0,oe.createPortal)(s,o)},ce=["className"],pe=["selectedTool"],fe=(0,c.ZP)((function(e){var n=e.className,t=(0,l.Z)(e,ce);return(0,F.jsx)(f.Z,(0,r.Z)((0,r.Z)({},t),{},{classes:{popper:n}}))}))((0,o.Z)({},"& .".concat(g.Z.tooltip),{maxWidth:500})),he=function(e){var n,t,o,r,l,c,f,g,j,y,w,C,S=e.inputAnchor,P=e.inputParam,k=e.data,D=e.disabled,N=void 0!==D&&D,I=e.isAdditionalParams,z=void 0!==I&&I,R=(0,p.Z)(),E=(0,u.v9)((function(e){return e.customization})),H=(0,d.useRef)(null),B=(0,d.useContext)(M.K).reactFlowInstance,J=(0,s.Bn)(),W=(0,d.useState)(0),U=(0,a.Z)(W,2),_=U[0],q=U[1],G=(0,d.useState)(!1),K=(0,a.Z)(G,2),X=K[0],Q=K[1],Y=(0,d.useState)({}),$=(0,a.Z)(Y,2),ee=$[0],ne=$[1],oe=(0,d.useState)(""),re=(0,a.Z)(oe,2),le=re[0],se=re[1],de=(0,d.useState)({}),ce=(0,a.Z)(de,2),he=ce[0],me=ce[1],xe=(0,d.useState)(Date.now().toString()),ve=(0,a.Z)(xe,2),ge=ve[0],be=ve[1],Ze=(0,d.useState)(!1),je=(0,a.Z)(Ze,2),ye=je[0],we=je[1],Ce=(0,d.useState)({}),Se=(0,a.Z)(Ce,2),Pe=Se[0],ke=Se[1];return(0,d.useEffect)((function(){H.current&&H.current.offsetTop&&H.current.clientHeight&&(q(H.current.offsetTop+H.current.clientHeight/2),J(k.id))}),[k.id,H,J]),(0,d.useEffect)((function(){J(k.id)}),[k.id,_,J]),(0,F.jsxs)("div",{ref:H,children:[S&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(fe,{placement:"left",title:S.type,children:(0,F.jsx)(s.HH,{type:"target",position:s.Ly.Left,id:S.id,isValidConnection:function(e){return(0,O.st)(e,B)},style:{height:10,width:10,backgroundColor:k.selected?R.palette.primary.main:R.palette.text.secondary,top:_}},S.id)}),(0,F.jsx)(h.Z,{sx:{p:2},children:(0,F.jsxs)(m.Z,{children:[S.label,!S.optional&&(0,F.jsx)("span",{style:{color:"red"},children:"\xa0*"}),S.description&&(0,F.jsx)(ie.H,{style:{marginLeft:10},title:S.description})]})})]}),(P&&!P.additionalParams||z)&&(0,F.jsxs)(F.Fragment,{children:[P.acceptVariable&&(0,F.jsx)(fe,{placement:"left",title:P.type,children:(0,F.jsx)(s.HH,{type:"target",position:s.Ly.Left,id:P.id,isValidConnection:function(e){return(0,O.st)(e,B)},style:{height:10,width:10,backgroundColor:k.selected?R.palette.primary.main:R.palette.text.secondary,top:_}},P.id)}),(0,F.jsxs)(h.Z,{sx:{p:2},children:[(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,F.jsxs)(m.Z,{children:[P.label,!P.optional&&(0,F.jsx)("span",{style:{color:"red"},children:"\xa0*"}),P.description&&(0,F.jsx)(ie.H,{style:{marginLeft:10},title:P.description})]}),(0,F.jsx)("div",{style:{flexGrow:1}}),"string"===P.type&&P.rows&&(0,F.jsx)(x.Z,{size:"small",sx:{height:25,width:25},title:"Expand",color:"primary",onClick:function(){var e,n;return function(e,n){ne({value:e,inputParam:n,disabled:N,confirmButtonName:"Save",cancelButtonName:"Cancel"}),Q(!0)}(null!==(e=null!==(n=k.inputs[P.name])&&void 0!==n?n:P.default)&&void 0!==e?e:"",P)},children:(0,F.jsx)(b.ybr,{})})]}),P.warning&&(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"row",borderRadius:10,background:"rgb(254,252,191)",padding:10,marginTop:10,marginBottom:10},children:[(0,F.jsx)(b.DpU,{size:36,color:"orange"}),(0,F.jsx)("span",{style:{color:"rgb(116,66,16)",marginLeft:10},children:P.warning})]}),"file"===P.type&&(0,F.jsx)(V,{disabled:N,fileType:P.fileType||"*",onChange:function(e){return k.inputs[P.name]=e},value:null!==(n=null!==(t=k.inputs[P.name])&&void 0!==t?t:P.default)&&void 0!==n?n:"Choose a file to upload"}),"boolean"===P.type&&(0,F.jsx)(L,{disabled:N,onChange:function(e){return k.inputs[P.name]=e},value:null!==(o=null!==(r=k.inputs[P.name])&&void 0!==r?r:P.default)&&void 0!==o&&o}),("string"===P.type||"password"===P.type||"number"===P.type)&&(0,F.jsx)(A.I,{disabled:N,inputParam:P,onChange:function(e){return k.inputs[P.name]=e},value:null!==(l=null!==(c=k.inputs[P.name])&&void 0!==c?c:P.default)&&void 0!==l?l:"",showDialog:X,dialogProps:ee,onDialogCancel:function(){return Q(!1)},onDialogConfirm:function(e,n){return function(e,n){Q(!1),k.inputs[n]=e}(e,n)}},k.inputs[P.name]),"json"===P.type&&(0,F.jsxs)(F.Fragment,{children:[!(null!==P&&void 0!==P&&P.acceptVariable)&&(0,F.jsx)(te,{disabled:N,onChange:function(e){return k.inputs[P.name]=e},value:null!==(f=null!==(g=k.inputs[P.name])&&void 0!==g?g:P.default)&&void 0!==f?f:"",isDarkMode:E.isDarkMode}),(null===P||void 0===P?void 0:P.acceptVariable)&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(v.Z,{sx:{borderRadius:25,width:"100%",mb:2,mt:2},variant:"outlined",onClick:function(){var e;return function(e,n){var t=e;if("promptValues"===n.name&&!e){var a,o,r,l,s={},d=(null!==(a=k.inputs.template)&&void 0!==a?a:"")+(null!==(o=k.inputs.systemMessagePrompt)&&void 0!==o?o:"")+(null!==(r=k.inputs.humanMessagePrompt)&&void 0!==r?r:""),u=(0,O.gj)(d),c=(0,i.Z)(u);try{for(c.s();!(l=c.n()).done;)s[l.value]=""}catch(f){c.e(f)}finally{c.f()}Object.keys(s).length&&(t=JSON.stringify(s))}var p={value:t,inputParam:n,nodes:B.getNodes(),edges:B.getEdges(),nodeId:k.id};ke(p),we(!0)}(null!==(e=k.inputs[P.name])&&void 0!==e?e:"",P)},children:"Format Prompt Values"}),(0,F.jsx)(ue,{show:ye,dialogProps:Pe,onCancel:function(){return we(!1)},onChange:function(e){return k.inputs[P.name]=e}})]})]}),"options"===P.type&&(0,F.jsx)(Z.L,{disabled:N,name:P.name,options:P.options,onSelect:function(e){return k.inputs[P.name]=e},value:null!==(j=null!==(y=k.inputs[P.name])&&void 0!==y?y:P.default)&&void 0!==j?j:"choose an option"}),"asyncOptions"===P.type&&(0,F.jsxs)(F.Fragment,{children:[1===k.inputParams.length&&(0,F.jsx)("div",{style:{marginTop:10}}),(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,F.jsx)(T,{disabled:N,name:P.name,nodeData:k,value:null!==(w=null!==(C=k.inputs[P.name])&&void 0!==C?C:P.default)&&void 0!==w?w:"choose an option",isCreateNewOption:pe.includes(P.name),onSelect:function(e){return k.inputs[P.name]=e},onCreateNew:function(){return"selectedTool"===(e=P.name)&&me({title:"Add New Tool",type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add"}),void se(e);var e}}),pe.includes(P.name)&&k.inputs[P.name]&&(0,F.jsx)(x.Z,{title:"Edit",color:"primary",size:"small",onClick:function(){return e=P.name,n=k.inputs[P.name],"selectedTool"===e&&me({title:"Edit Tool",type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",toolId:n}),void se(e);var e,n},children:(0,F.jsx)(b.yl5,{})})]},ge)]})]})]}),(0,F.jsx)(ae.Z,{show:pe.includes(le),dialogProps:he,onCancel:function(){return se("")},onConfirm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?(k.inputs[le]=e,be(Date.now().toString())):k.inputs[le]="",me({}),se("")}})]})}},22526:function(e,n,t){var i=t(96234),a=t(56666),o=t(33028),r=t(59740),l=t(29223),s=t(30969),d=t(45971),u=t(94702),c=t(6779),p=t(38361),f=t(47915),h=t(2295),m=t(99177),x=t(86115),v=t(34061),g=t(37574),b=["className"],Z=(0,d.ZP)((function(e){var n=e.className,t=(0,r.Z)(e,b);return(0,g.jsx)(c.Z,(0,o.Z)((0,o.Z)({},t),{},{classes:{popper:n}}))}))((0,a.Z)({},"& .".concat(h.Z.tooltip),{maxWidth:500}));n.Z=function(e){var n,t,a,o,r,d,c=e.outputAnchor,h=e.data,b=e.disabled,j=void 0!==b&&b,y=(0,u.Z)(),w=(0,s.useRef)(null),C=(0,l.Bn)(),S=(0,s.useState)(0),P=(0,i.Z)(S,2),k=P[0],D=P[1],N=(0,s.useState)(null),I=(0,i.Z)(N,2),z=I[0],F=I[1],R=(0,s.useContext)(m.K).reactFlowInstance;return(0,s.useEffect)((function(){var e,n;w.current&&null!==(e=w.current)&&void 0!==e&&e.offsetTop&&null!==(n=w.current)&&void 0!==n&&n.clientHeight&&setTimeout((function(){var e,n;D((null===(e=w.current)||void 0===e?void 0:e.offsetTop)+(null===(n=w.current)||void 0===n?void 0:n.clientHeight)/2),C(h.id)}),0)}),[h.id,w,C]),(0,s.useEffect)((function(){setTimeout((function(){C(h.id)}),0)}),[h.id,k,C]),(0,s.useEffect)((function(){z&&setTimeout((function(){C(h.id)}),0)}),[h.id,z,C]),(0,g.jsxs)("div",{ref:w,children:["options"!==c.type&&!c.options&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z,{placement:"right",title:c.type,children:(0,g.jsx)(l.HH,{type:"source",position:l.Ly.Right,id:c.id,isValidConnection:function(e){return(0,x.st)(e,R)},style:{height:10,width:10,backgroundColor:h.selected?y.palette.primary.main:y.palette.text.secondary,top:k}},c.id)}),(0,g.jsx)(p.Z,{sx:{p:2,textAlign:"end"},children:(0,g.jsx)(f.Z,{children:c.label})})]}),"options"===c.type&&c.options&&c.options.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z,{placement:"right",title:null!==(n=null===(t=c.options.find((function(e){var n;return e.name===(null===(n=h.outputs)||void 0===n?void 0:n[c.name])})))||void 0===t?void 0:t.type)&&void 0!==n?n:c.type,children:(0,g.jsx)(l.HH,{type:"source",position:l.Ly.Right,id:null!==(a=null===(o=c.options.find((function(e){var n;return e.name===(null===(n=h.outputs)||void 0===n?void 0:n[c.name])})))||void 0===o?void 0:o.id)&&void 0!==a?a:"",isValidConnection:function(e){return(0,x.st)(e,R)},style:{height:10,width:10,backgroundColor:h.selected?y.palette.primary.main:y.palette.text.secondary,top:k}})}),(0,g.jsx)(p.Z,{sx:{p:2,textAlign:"end"},children:(0,g.jsx)(v.L,{disabled:j,disableClearable:!0,name:c.name,options:c.options,onSelect:function(e){F(e),h.outputs[c.name]=e},value:null!==(r=null!==(d=h.outputs[c.name])&&void 0!==d?d:c.default)&&void 0!==r?r:"choose an option"})})]})]})}},86420:function(){}}]);
//# sourceMappingURL=8245.7b622a23.chunk.js.map