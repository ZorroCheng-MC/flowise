{"ast":null,"code":"import _objectSpread from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{useState}from'react';import{useSelector}from'react-redux';import{Popper,FormControl,TextField,Box,Typography}from'@mui/material';import Autocomplete,{autocompleteClasses}from'@mui/material/Autocomplete';import{styled}from'@mui/material/styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledPopper=styled(Popper)(_defineProperty({boxShadow:'0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)',borderRadius:'10px'},\"& .\".concat(autocompleteClasses.listbox),{boxSizing:'border-box','& ul':{padding:10,margin:10}}));export var Dropdown=function Dropdown(_ref){var name=_ref.name,value=_ref.value,options=_ref.options,onSelect=_ref.onSelect,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,_ref$disableClearable=_ref.disableClearable,disableClearable=_ref$disableClearable===void 0?false:_ref$disableClearable;var customization=useSelector(function(state){return state.customization;});var findMatchingOptions=function findMatchingOptions(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var value=arguments.length>1?arguments[1]:undefined;return options.find(function(option){return option.name===value;});};var getDefaultOptionValue=function getDefaultOptionValue(){return'';};var _useState=useState(value!==null&&value!==void 0?value:'choose an option'),_useState2=_slicedToArray(_useState,2),internalValue=_useState2[0],setInternalValue=_useState2[1];return/*#__PURE__*/_jsx(FormControl,{sx:{mt:1,width:'100%'},size:\"small\",children:/*#__PURE__*/_jsx(Autocomplete,{id:name,disabled:disabled,disableClearable:disableClearable,size:\"small\",options:options||[],value:findMatchingOptions(options,internalValue)||getDefaultOptionValue(),onChange:function onChange(e,selection){var value=selection?selection.name:'';setInternalValue(value);onSelect(value);},PopperComponent:StyledPopper,renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{value:internalValue}));},renderOption:function renderOption(props,option){return/*#__PURE__*/_jsx(Box,_objectSpread(_objectSpread({component:\"li\"},props),{},{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:option.label}),option.description&&/*#__PURE__*/_jsx(Typography,{sx:{color:customization.isDarkMode?'#9e9e9e':''},children:option.description})]})}));}})});};","map":{"version":3,"names":["useState","useSelector","Popper","FormControl","TextField","Box","Typography","Autocomplete","autocompleteClasses","styled","jsx","_jsx","jsxs","_jsxs","StyledPopper","_defineProperty","boxShadow","borderRadius","concat","listbox","boxSizing","padding","margin","Dropdown","_ref","name","value","options","onSelect","_ref$disabled","disabled","_ref$disableClearable","disableClearable","customization","state","findMatchingOptions","arguments","length","undefined","find","option","getDefaultOptionValue","_useState","_useState2","_slicedToArray","internalValue","setInternalValue","sx","mt","width","size","children","id","onChange","e","selection","PopperComponent","renderInput","params","_objectSpread","renderOption","props","component","style","display","flexDirection","variant","label","description","color","isDarkMode"],"sources":["/Users/zorro/Downloads/Flowise/packages/ui/src/ui-component/dropdown/Dropdown.js"],"sourcesContent":["import { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Popper, FormControl, TextField, Box, Typography } from '@mui/material'\nimport Autocomplete, { autocompleteClasses } from '@mui/material/Autocomplete'\nimport { styled } from '@mui/material/styles'\nimport PropTypes from 'prop-types'\n\nconst StyledPopper = styled(Popper)({\n    boxShadow: '0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)',\n    borderRadius: '10px',\n    [`& .${autocompleteClasses.listbox}`]: {\n        boxSizing: 'border-box',\n        '& ul': {\n            padding: 10,\n            margin: 10\n        }\n    }\n})\n\nexport const Dropdown = ({ name, value, options, onSelect, disabled = false, disableClearable = false }) => {\n    const customization = useSelector((state) => state.customization)\n    const findMatchingOptions = (options = [], value) => options.find((option) => option.name === value)\n    const getDefaultOptionValue = () => ''\n    let [internalValue, setInternalValue] = useState(value ?? 'choose an option')\n\n    return (\n        <FormControl sx={{ mt: 1, width: '100%' }} size='small'>\n            <Autocomplete\n                id={name}\n                disabled={disabled}\n                disableClearable={disableClearable}\n                size='small'\n                options={options || []}\n                value={findMatchingOptions(options, internalValue) || getDefaultOptionValue()}\n                onChange={(e, selection) => {\n                    const value = selection ? selection.name : ''\n                    setInternalValue(value)\n                    onSelect(value)\n                }}\n                PopperComponent={StyledPopper}\n                renderInput={(params) => <TextField {...params} value={internalValue} />}\n                renderOption={(props, option) => (\n                    <Box component='li' {...props}>\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\n                            <Typography variant='h5'>{option.label}</Typography>\n                            {option.description && (\n                                <Typography sx={{ color: customization.isDarkMode ? '#9e9e9e' : '' }}>{option.description}</Typography>\n                            )}\n                        </div>\n                    </Box>\n                )}\n            />\n        </FormControl>\n    )\n}\n\nDropdown.propTypes = {\n    name: PropTypes.string,\n    value: PropTypes.string,\n    options: PropTypes.array,\n    onSelect: PropTypes.func,\n    disabled: PropTypes.bool,\n    disableClearable: PropTypes.bool\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}