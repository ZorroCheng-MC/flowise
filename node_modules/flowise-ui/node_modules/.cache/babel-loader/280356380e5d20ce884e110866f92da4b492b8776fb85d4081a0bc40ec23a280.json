{"ast":null,"code":"import _objectSpread from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Box,List,Paper,Popper,ClickAwayListener}from'@mui/material';// third-party\nimport PerfectScrollbar from'react-perfect-scrollbar';// project imports\nimport MainCard from'ui-component/cards/MainCard';import Transitions from'ui-component/extended/Transitions';import NavItem from'layout/MainLayout/Sidebar/MenuList/NavItem';import settings from'menu-items/settings';// ==============================|| SETTINGS ||============================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Settings=function Settings(_ref){var chatflow=_ref.chatflow,isSettingsOpen=_ref.isSettingsOpen,anchorEl=_ref.anchorEl,onSettingsItemClick=_ref.onSettingsItemClick,onUploadFile=_ref.onUploadFile,onClose=_ref.onClose;var theme=useTheme();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),settingsMenu=_useState2[0],setSettingsMenu=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];useEffect(function(){if(chatflow&&!chatflow.id){var _settingsMenu=settings.children.filter(function(menu){return menu.id==='loadChatflow';});setSettingsMenu(_settingsMenu);}else if(chatflow&&chatflow.id){var _settingsMenu2=settings.children;setSettingsMenu(_settingsMenu2);}},[chatflow]);useEffect(function(){setOpen(isSettingsOpen);},[isSettingsOpen]);// settings list items\nvar items=settingsMenu.map(function(menu){return/*#__PURE__*/_jsx(NavItem,{item:menu,level:1,navType:\"SETTINGS\",onClick:function onClick(id){return onSettingsItemClick(id);},onUploadFile:onUploadFile},menu.id);});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Popper,{placement:\"bottom-end\",open:open,anchorEl:anchorEl,role:undefined,transition:true,disablePortal:true,popperOptions:{modifiers:[{name:'offset',options:{offset:[170,20]}}]},sx:{zIndex:1000},children:function children(_ref2){var TransitionProps=_ref2.TransitionProps;return/*#__PURE__*/_jsx(Transitions,_objectSpread(_objectSpread({in:open},TransitionProps),{},{children:/*#__PURE__*/_jsx(Paper,{children:/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:onClose,children:/*#__PURE__*/_jsx(MainCard,{border:false,elevation:16,content:false,boxShadow:true,shadow:theme.shadows[16],children:/*#__PURE__*/_jsx(PerfectScrollbar,{style:{height:'100%',maxHeight:'calc(100vh - 250px)',overflowX:'hidden'},children:/*#__PURE__*/_jsx(Box,{sx:{p:2},children:/*#__PURE__*/_jsx(List,{children:items})})})})})})}));}})});};export default Settings;","map":{"version":3,"names":["useState","useEffect","useTheme","Box","List","Paper","Popper","ClickAwayListener","PerfectScrollbar","MainCard","Transitions","NavItem","settings","jsx","_jsx","Fragment","_Fragment","Settings","_ref","chatflow","isSettingsOpen","anchorEl","onSettingsItemClick","onUploadFile","onClose","theme","_useState","_useState2","_slicedToArray","settingsMenu","setSettingsMenu","_useState3","_useState4","open","setOpen","id","children","filter","menu","items","map","item","level","navType","onClick","placement","role","undefined","transition","disablePortal","popperOptions","modifiers","name","options","offset","sx","zIndex","_ref2","TransitionProps","_objectSpread","in","onClickAway","border","elevation","content","boxShadow","shadow","shadows","style","height","maxHeight","overflowX","p"],"sources":["/Users/zorro/Downloads/Flowise/packages/ui/src/views/settings/index.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\n// material-ui\nimport { useTheme } from '@mui/material/styles'\nimport { Box, List, Paper, Popper, ClickAwayListener } from '@mui/material'\n\n// third-party\nimport PerfectScrollbar from 'react-perfect-scrollbar'\n\n// project imports\nimport MainCard from 'ui-component/cards/MainCard'\nimport Transitions from 'ui-component/extended/Transitions'\nimport NavItem from 'layout/MainLayout/Sidebar/MenuList/NavItem'\n\nimport settings from 'menu-items/settings'\n\n// ==============================|| SETTINGS ||============================== //\n\nconst Settings = ({ chatflow, isSettingsOpen, anchorEl, onSettingsItemClick, onUploadFile, onClose }) => {\n    const theme = useTheme()\n    const [settingsMenu, setSettingsMenu] = useState([])\n\n    const [open, setOpen] = useState(false)\n\n    useEffect(() => {\n        if (chatflow && !chatflow.id) {\n            const settingsMenu = settings.children.filter((menu) => menu.id === 'loadChatflow')\n            setSettingsMenu(settingsMenu)\n        } else if (chatflow && chatflow.id) {\n            const settingsMenu = settings.children\n            setSettingsMenu(settingsMenu)\n        }\n    }, [chatflow])\n\n    useEffect(() => {\n        setOpen(isSettingsOpen)\n    }, [isSettingsOpen])\n\n    // settings list items\n    const items = settingsMenu.map((menu) => {\n        return (\n            <NavItem\n                key={menu.id}\n                item={menu}\n                level={1}\n                navType='SETTINGS'\n                onClick={(id) => onSettingsItemClick(id)}\n                onUploadFile={onUploadFile}\n            />\n        )\n    })\n\n    return (\n        <>\n            <Popper\n                placement='bottom-end'\n                open={open}\n                anchorEl={anchorEl}\n                role={undefined}\n                transition\n                disablePortal\n                popperOptions={{\n                    modifiers: [\n                        {\n                            name: 'offset',\n                            options: {\n                                offset: [170, 20]\n                            }\n                        }\n                    ]\n                }}\n                sx={{ zIndex: 1000 }}\n            >\n                {({ TransitionProps }) => (\n                    <Transitions in={open} {...TransitionProps}>\n                        <Paper>\n                            <ClickAwayListener onClickAway={onClose}>\n                                <MainCard border={false} elevation={16} content={false} boxShadow shadow={theme.shadows[16]}>\n                                    <PerfectScrollbar style={{ height: '100%', maxHeight: 'calc(100vh - 250px)', overflowX: 'hidden' }}>\n                                        <Box sx={{ p: 2 }}>\n                                            <List>{items}</List>\n                                        </Box>\n                                    </PerfectScrollbar>\n                                </MainCard>\n                            </ClickAwayListener>\n                        </Paper>\n                    </Transitions>\n                )}\n            </Popper>\n        </>\n    )\n}\n\nSettings.propTypes = {\n    chatflow: PropTypes.object,\n    isSettingsOpen: PropTypes.bool,\n    anchorEl: PropTypes.any,\n    onSettingsItemClick: PropTypes.func,\n    onUploadFile: PropTypes.func,\n    onClose: PropTypes.func\n}\n\nexport default Settings\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}