{"ast":null,"code":"import _objectSpread from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/zorro/Downloads/Flowise/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';// material-ui\nimport{styled,useTheme}from'@mui/material/styles';import{Box,Typography,Divider,Button}from'@mui/material';// project imports\nimport MainCard from'ui-component/cards/MainCard';import NodeInputHandler from'views/canvas/NodeInputHandler';import NodeOutputHandler from'views/canvas/NodeOutputHandler';import AdditionalParamsDialog from'ui-component/dialog/AdditionalParamsDialog';// const\nimport{baseURL}from'store/constant';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CardWrapper=styled(MainCard)(function(_ref){var theme=_ref.theme;return{background:theme.palette.card.main,color:theme.darkTextPrimary,border:'solid 1px',borderColor:theme.palette.primary[200]+75,width:'300px',height:'auto',padding:'10px',boxShadow:'0 2px 14px 0 rgb(32 40 45 / 8%)','&:hover':{borderColor:theme.palette.primary.main}};});// ===========================|| CANVAS NODE ||=========================== //\nvar MarketplaceCanvasNode=function MarketplaceCanvasNode(_ref2){var data=_ref2.data;var theme=useTheme();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showDialog=_useState2[0],setShowDialog=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),dialogProps=_useState4[0],setDialogProps=_useState4[1];var onDialogClicked=function onDialogClicked(){var dialogProps={data:data,inputParams:data.inputParams.filter(function(param){return param.additionalParams;}),disabled:true,confirmButtonName:'Save',cancelButtonName:'Cancel'};setDialogProps(dialogProps);setShowDialog(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CardWrapper,{content:false,sx:{padding:0,borderColor:data.selected?theme.palette.primary.main:theme.palette.text.secondary},border:false,children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row',alignItems:'center'},children:[/*#__PURE__*/_jsx(Box,{style:{width:50,marginRight:10,padding:5},children:/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread(_objectSpread({},theme.typography.commonAvatar),theme.typography.largeAvatar),{},{borderRadius:'50%',backgroundColor:'white',cursor:'grab'}),children:/*#__PURE__*/_jsx(\"img\",{style:{width:'100%',height:'100%',padding:5,objectFit:'contain'},src:\"\".concat(baseURL,\"/api/v1/node-icon/\").concat(data.name),alt:\"Notification\"})})}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Typography,{sx:{fontSize:'1rem',fontWeight:500},children:data.label})})]}),(data.inputAnchors.length>0||data.inputParams.length>0)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Box,{sx:{background:theme.palette.asyncSelect.main,p:1},children:/*#__PURE__*/_jsx(Typography,{sx:{fontWeight:500,textAlign:'center'},children:\"Inputs\"})}),/*#__PURE__*/_jsx(Divider,{})]}),data.inputAnchors.map(function(inputAnchor,index){return/*#__PURE__*/_jsx(NodeInputHandler,{disabled:true,inputAnchor:inputAnchor,data:data},index);}),data.inputParams.map(function(inputParam,index){return/*#__PURE__*/_jsx(NodeInputHandler,{disabled:true,inputParam:inputParam,data:data},index);}),data.inputParams.find(function(param){return param.additionalParams;})&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(Button,{sx:{borderRadius:25,width:'90%',mb:2},variant:\"outlined\",onClick:onDialogClicked,children:\"Additional Parameters\"})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Box,{sx:{background:theme.palette.asyncSelect.main,p:1},children:/*#__PURE__*/_jsx(Typography,{sx:{fontWeight:500,textAlign:'center'},children:\"Output\"})}),/*#__PURE__*/_jsx(Divider,{}),data.outputAnchors.map(function(outputAnchor,index){return/*#__PURE__*/_jsx(NodeOutputHandler,{disabled:true,outputAnchor:outputAnchor,data:data},index);})]})}),/*#__PURE__*/_jsx(AdditionalParamsDialog,{show:showDialog,dialogProps:dialogProps,onCancel:function onCancel(){return setShowDialog(false);}})]});};export default MarketplaceCanvasNode;","map":{"version":3,"names":["useState","styled","useTheme","Box","Typography","Divider","Button","MainCard","NodeInputHandler","NodeOutputHandler","AdditionalParamsDialog","baseURL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CardWrapper","_ref","theme","background","palette","card","main","color","darkTextPrimary","border","borderColor","primary","width","height","padding","boxShadow","MarketplaceCanvasNode","_ref2","data","_useState","_useState2","_slicedToArray","showDialog","setShowDialog","_useState3","_useState4","dialogProps","setDialogProps","onDialogClicked","inputParams","filter","param","additionalParams","disabled","confirmButtonName","cancelButtonName","children","content","sx","selected","text","secondary","style","display","flexDirection","alignItems","marginRight","_objectSpread","typography","commonAvatar","largeAvatar","borderRadius","backgroundColor","cursor","objectFit","src","concat","name","alt","fontSize","fontWeight","label","inputAnchors","length","asyncSelect","p","textAlign","map","inputAnchor","index","inputParam","find","mb","variant","onClick","outputAnchors","outputAnchor","show","onCancel"],"sources":["/Users/zorro/Downloads/Flowise/packages/ui/src/views/marketplaces/MarketplaceCanvasNode.js"],"sourcesContent":["import PropTypes from 'prop-types'\nimport { useState } from 'react'\n\n// material-ui\nimport { styled, useTheme } from '@mui/material/styles'\nimport { Box, Typography, Divider, Button } from '@mui/material'\n\n// project imports\nimport MainCard from 'ui-component/cards/MainCard'\nimport NodeInputHandler from 'views/canvas/NodeInputHandler'\nimport NodeOutputHandler from 'views/canvas/NodeOutputHandler'\nimport AdditionalParamsDialog from 'ui-component/dialog/AdditionalParamsDialog'\n\n// const\nimport { baseURL } from 'store/constant'\n\nconst CardWrapper = styled(MainCard)(({ theme }) => ({\n    background: theme.palette.card.main,\n    color: theme.darkTextPrimary,\n    border: 'solid 1px',\n    borderColor: theme.palette.primary[200] + 75,\n    width: '300px',\n    height: 'auto',\n    padding: '10px',\n    boxShadow: '0 2px 14px 0 rgb(32 40 45 / 8%)',\n    '&:hover': {\n        borderColor: theme.palette.primary.main\n    }\n}))\n\n// ===========================|| CANVAS NODE ||=========================== //\n\nconst MarketplaceCanvasNode = ({ data }) => {\n    const theme = useTheme()\n\n    const [showDialog, setShowDialog] = useState(false)\n    const [dialogProps, setDialogProps] = useState({})\n\n    const onDialogClicked = () => {\n        const dialogProps = {\n            data,\n            inputParams: data.inputParams.filter((param) => param.additionalParams),\n            disabled: true,\n            confirmButtonName: 'Save',\n            cancelButtonName: 'Cancel'\n        }\n        setDialogProps(dialogProps)\n        setShowDialog(true)\n    }\n\n    return (\n        <>\n            <CardWrapper\n                content={false}\n                sx={{\n                    padding: 0,\n                    borderColor: data.selected ? theme.palette.primary.main : theme.palette.text.secondary\n                }}\n                border={false}\n            >\n                <Box>\n                    <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n                        <Box style={{ width: 50, marginRight: 10, padding: 5 }}>\n                            <div\n                                style={{\n                                    ...theme.typography.commonAvatar,\n                                    ...theme.typography.largeAvatar,\n                                    borderRadius: '50%',\n                                    backgroundColor: 'white',\n                                    cursor: 'grab'\n                                }}\n                            >\n                                <img\n                                    style={{ width: '100%', height: '100%', padding: 5, objectFit: 'contain' }}\n                                    src={`${baseURL}/api/v1/node-icon/${data.name}`}\n                                    alt='Notification'\n                                />\n                            </div>\n                        </Box>\n                        <Box>\n                            <Typography\n                                sx={{\n                                    fontSize: '1rem',\n                                    fontWeight: 500\n                                }}\n                            >\n                                {data.label}\n                            </Typography>\n                        </Box>\n                    </div>\n                    {(data.inputAnchors.length > 0 || data.inputParams.length > 0) && (\n                        <>\n                            <Divider />\n                            <Box sx={{ background: theme.palette.asyncSelect.main, p: 1 }}>\n                                <Typography\n                                    sx={{\n                                        fontWeight: 500,\n                                        textAlign: 'center'\n                                    }}\n                                >\n                                    Inputs\n                                </Typography>\n                            </Box>\n                            <Divider />\n                        </>\n                    )}\n                    {data.inputAnchors.map((inputAnchor, index) => (\n                        <NodeInputHandler disabled={true} key={index} inputAnchor={inputAnchor} data={data} />\n                    ))}\n                    {data.inputParams.map((inputParam, index) => (\n                        <NodeInputHandler disabled={true} key={index} inputParam={inputParam} data={data} />\n                    ))}\n                    {data.inputParams.find((param) => param.additionalParams) && (\n                        <div style={{ textAlign: 'center' }}>\n                            <Button sx={{ borderRadius: 25, width: '90%', mb: 2 }} variant='outlined' onClick={onDialogClicked}>\n                                Additional Parameters\n                            </Button>\n                        </div>\n                    )}\n                    <Divider />\n                    <Box sx={{ background: theme.palette.asyncSelect.main, p: 1 }}>\n                        <Typography\n                            sx={{\n                                fontWeight: 500,\n                                textAlign: 'center'\n                            }}\n                        >\n                            Output\n                        </Typography>\n                    </Box>\n                    <Divider />\n\n                    {data.outputAnchors.map((outputAnchor, index) => (\n                        <NodeOutputHandler disabled={true} key={index} outputAnchor={outputAnchor} data={data} />\n                    ))}\n                </Box>\n            </CardWrapper>\n            <AdditionalParamsDialog\n                show={showDialog}\n                dialogProps={dialogProps}\n                onCancel={() => setShowDialog(false)}\n            ></AdditionalParamsDialog>\n        </>\n    )\n}\n\nMarketplaceCanvasNode.propTypes = {\n    data: PropTypes.object\n}\n\nexport default MarketplaceCanvasNode\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}